<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Irrlicht 3D Engine: IQ3Shader.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="irrlichtlogo.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Irrlicht 3D Engine
   
   </div>
   
  </td>
  
  
  
   
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
   
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('_i_q3_shader_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">IQ3Shader.h</div>  </div>
</div>
<div class="contents">
<a href="_i_q3_shader_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// Copyright (C) 2006-2012 Nikolaus Gebhardt / Thomas Alten</span>
<a name="l00002"></a>00002 <span class="comment">// This file is part of the &quot;Irrlicht Engine&quot;.</span>
<a name="l00003"></a>00003 <span class="comment">// For conditions of distribution and use, see copyright notice in irrlicht.h</span>
<a name="l00004"></a>00004 
<a name="l00005"></a>00005 <span class="preprocessor">#ifndef __I_Q3_LEVEL_SHADER_H_INCLUDED__</span>
<a name="l00006"></a>00006 <span class="preprocessor"></span><span class="preprocessor">#define __I_Q3_LEVEL_SHADER_H_INCLUDED__</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &quot;<a class="code" href="irr_array_8h.html">irrArray.h</a>&quot;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &quot;<a class="code" href="fast__atof_8h.html">fast_atof.h</a>&quot;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;<a class="code" href="_i_file_system_8h.html">IFileSystem.h</a>&quot;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &quot;<a class="code" href="_i_video_driver_8h.html">IVideoDriver.h</a>&quot;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &quot;<a class="code" href="coreutil_8h.html" title="File containing useful basic utility functions.">coreutil.h</a>&quot;</span>
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 <span class="keyword">namespace </span>irr
<a name="l00015"></a>00015 {
<a name="l00016"></a>00016 <span class="keyword">namespace </span>scene
<a name="l00017"></a>00017 {
<a name="l00018"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html">00018</a> <span class="keyword">namespace </span>quake3
<a name="l00019"></a>00019 {
<a name="l00020"></a>00020 
<a name="l00021"></a>00021     <span class="keyword">static</span> <a class="code" href="classirr_1_1core_1_1string.html">core::stringc</a> irrEmptyStringc(<span class="stringliteral">&quot;&quot;</span>);
<a name="l00022"></a>00022 
<a name="l00024"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a44a1a489a965cc9a0ad2c235bbb7bf33">00024</a>     <span class="keyword">enum</span> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a44a1a489a965cc9a0ad2c235bbb7bf33" title="Hold the different Mesh Types used for getMesh.">eQ3MeshIndex</a>
<a name="l00025"></a>00025     {
<a name="l00026"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a44a1a489a965cc9a0ad2c235bbb7bf33a10a5968f2ec9c929bfbca721780a7ef6">00026</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a44a1a489a965cc9a0ad2c235bbb7bf33a10a5968f2ec9c929bfbca721780a7ef6">E_Q3_MESH_GEOMETRY</a> = 0,
<a name="l00027"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a44a1a489a965cc9a0ad2c235bbb7bf33a15b1dd0b29d69900d070346d61f44319">00027</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a44a1a489a965cc9a0ad2c235bbb7bf33a15b1dd0b29d69900d070346d61f44319">E_Q3_MESH_ITEMS</a>,
<a name="l00028"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a44a1a489a965cc9a0ad2c235bbb7bf33abc0ec7e6689dbb79b86cee475b87f910">00028</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a44a1a489a965cc9a0ad2c235bbb7bf33abc0ec7e6689dbb79b86cee475b87f910">E_Q3_MESH_BILLBOARD</a>,
<a name="l00029"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a44a1a489a965cc9a0ad2c235bbb7bf33a8679450d9dcdd4d1b22f38bbd059740b">00029</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a44a1a489a965cc9a0ad2c235bbb7bf33a8679450d9dcdd4d1b22f38bbd059740b">E_Q3_MESH_FOG</a>,
<a name="l00030"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a44a1a489a965cc9a0ad2c235bbb7bf33a9690978438eed9b5e39c7a87e9235b1d">00030</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a44a1a489a965cc9a0ad2c235bbb7bf33a9690978438eed9b5e39c7a87e9235b1d">E_Q3_MESH_UNRESOLVED</a>,
<a name="l00031"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a44a1a489a965cc9a0ad2c235bbb7bf33afe612503bd99663f1255289fffa93300">00031</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a44a1a489a965cc9a0ad2c235bbb7bf33afe612503bd99663f1255289fffa93300">E_Q3_MESH_SIZE</a>
<a name="l00032"></a>00032     };
<a name="l00033"></a>00033 
<a name="l00037"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html">00037</a>     <span class="keyword">struct </span><a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html">Q3LevelLoadParameter</a>
<a name="l00038"></a>00038     {
<a name="l00039"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a78a785f2804c08fe80e55326a5a85204">00039</a>         <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a78a785f2804c08fe80e55326a5a85204">Q3LevelLoadParameter</a> ()
<a name="l00040"></a>00040             :<a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#af3c2f45253ae13ee7aaccc096bed04c2">defaultLightMapMaterial</a> ( video::<a class="code" href="namespaceirr_1_1video.html#ac8e9b6c66f7cebabd1a6d30cbc5430f1ad61a64f074256bb1cc1b6c130e18ebdc" title="Material type with standard lightmap technique.">EMT_LIGHTMAP_M4</a> ),
<a name="l00041"></a>00041             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a0adb71b1a32df7e7dca0c0609842a4d5">defaultModulate</a> ( video::<a class="code" href="namespaceirr_1_1video.html#a1402e9045137ae232fafbdf385800843afa19322c677d65bf90ad20d873caeac8">EMFN_MODULATE_4X</a> ),
<a name="l00042"></a>00042             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#aeb51b738154b337dd8de6f466fad164c">defaultFilter</a> ( video::<a class="code" href="namespaceirr_1_1video.html#a8a3bc00ae8137535b9fbc5f40add70d3afbf2b289d416e70466e4ab05e97b4934" title="Is bilinear filtering enabled? Default: true.">EMF_BILINEAR_FILTER</a> ),
<a name="l00043"></a>00043             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#ae8bc203dd5a33bc161ee4c0642ace3da">patchTesselation</a> ( 8 ),
<a name="l00044"></a>00044             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a57ebfdd58a30764c893f457c1806a2c3">verbose</a> ( 0 ),
<a name="l00045"></a>00045             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a9c12d15fd001cb147833d0650da603fa">startTime</a> ( 0 ), <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#adca317b392e4a854dd833e000b30c394">endTime</a> ( 0 ),
<a name="l00046"></a>00046             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a67af3109eee253f54d5d4ba845395b9e">mergeShaderBuffer</a> ( 1 ),
<a name="l00047"></a>00047             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a3f3140548da9db6b6753b577a395f271">cleanUnResolvedMeshes</a> ( 1 ),
<a name="l00048"></a>00048             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a8f2416e490be10e1b83c2af1014010dc">loadAllShaders</a> ( 0 ),
<a name="l00049"></a>00049             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#ae75446370744802fdf418ed8cae61179">loadSkyShader</a> ( 0 ),
<a name="l00050"></a>00050             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#adc83871db5f727f9b31e2a9d0d2b6fea">alpharef</a> ( 1 ),
<a name="l00051"></a>00051             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#ae3db955f81f1b2a0835276e0c8a41c6b">swapLump</a> ( 0 ),
<a name="l00052"></a>00052     #ifdef __BIG_ENDIAN__
<a name="l00053"></a>00053             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a3b853f6b890049285991b0133520d443">swapHeader</a> ( 1 )
<a name="l00054"></a>00054     #else
<a name="l00055"></a>00055             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a3b853f6b890049285991b0133520d443">swapHeader</a> ( 0 )
<a name="l00056"></a>00056     #endif
<a name="l00057"></a>00057             {
<a name="l00058"></a>00058                 memcpy ( <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a4347b623412b46c978abd8395f044958">scriptDir</a>, <span class="stringliteral">&quot;scripts\x0&quot;</span>, 8 );
<a name="l00059"></a>00059             }
<a name="l00060"></a>00060 
<a name="l00061"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#af3c2f45253ae13ee7aaccc096bed04c2">00061</a>         <a class="code" href="namespaceirr_1_1video.html#ac8e9b6c66f7cebabd1a6d30cbc5430f1" title="Abstracted and easy to use fixed function/programmable pipeline material modes.">video::E_MATERIAL_TYPE</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#af3c2f45253ae13ee7aaccc096bed04c2">defaultLightMapMaterial</a>;
<a name="l00062"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a0adb71b1a32df7e7dca0c0609842a4d5">00062</a>         <a class="code" href="namespaceirr_1_1video.html#a1402e9045137ae232fafbdf385800843" title="MaterialTypeParam: e.g. DirectX: D3DTOP_MODULATE, D3DTOP_MODULATE2X, D3DTOP_MODULATE4X.">video::E_MODULATE_FUNC</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a0adb71b1a32df7e7dca0c0609842a4d5">defaultModulate</a>;
<a name="l00063"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#aeb51b738154b337dd8de6f466fad164c">00063</a>         <a class="code" href="namespaceirr_1_1video.html#a8a3bc00ae8137535b9fbc5f40add70d3" title="Material flags.">video::E_MATERIAL_FLAG</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#aeb51b738154b337dd8de6f466fad164c">defaultFilter</a>;
<a name="l00064"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#ae8bc203dd5a33bc161ee4c0642ace3da">00064</a>         <a class="code" href="namespaceirr.html#ac66849b7a6ed16e30ebede579f9b47c6" title="32 bit signed variable.">s32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#ae8bc203dd5a33bc161ee4c0642ace3da">patchTesselation</a>;
<a name="l00065"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a57ebfdd58a30764c893f457c1806a2c3">00065</a>         <a class="code" href="namespaceirr.html#ac66849b7a6ed16e30ebede579f9b47c6" title="32 bit signed variable.">s32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a57ebfdd58a30764c893f457c1806a2c3">verbose</a>;
<a name="l00066"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a9c12d15fd001cb147833d0650da603fa">00066</a>         <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a9c12d15fd001cb147833d0650da603fa">startTime</a>;
<a name="l00067"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#adca317b392e4a854dd833e000b30c394">00067</a>         <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#adca317b392e4a854dd833e000b30c394">endTime</a>;
<a name="l00068"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a67af3109eee253f54d5d4ba845395b9e">00068</a>         <a class="code" href="namespaceirr.html#ac66849b7a6ed16e30ebede579f9b47c6" title="32 bit signed variable.">s32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a67af3109eee253f54d5d4ba845395b9e">mergeShaderBuffer</a>;
<a name="l00069"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a3f3140548da9db6b6753b577a395f271">00069</a>         <a class="code" href="namespaceirr.html#ac66849b7a6ed16e30ebede579f9b47c6" title="32 bit signed variable.">s32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a3f3140548da9db6b6753b577a395f271">cleanUnResolvedMeshes</a>;
<a name="l00070"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a8f2416e490be10e1b83c2af1014010dc">00070</a>         <a class="code" href="namespaceirr.html#ac66849b7a6ed16e30ebede579f9b47c6" title="32 bit signed variable.">s32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a8f2416e490be10e1b83c2af1014010dc">loadAllShaders</a>;
<a name="l00071"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#ae75446370744802fdf418ed8cae61179">00071</a>         <a class="code" href="namespaceirr.html#ac66849b7a6ed16e30ebede579f9b47c6" title="32 bit signed variable.">s32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#ae75446370744802fdf418ed8cae61179">loadSkyShader</a>;
<a name="l00072"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#adc83871db5f727f9b31e2a9d0d2b6fea">00072</a>         <a class="code" href="namespaceirr.html#ac66849b7a6ed16e30ebede579f9b47c6" title="32 bit signed variable.">s32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#adc83871db5f727f9b31e2a9d0d2b6fea">alpharef</a>;
<a name="l00073"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#ae3db955f81f1b2a0835276e0c8a41c6b">00073</a>         <a class="code" href="namespaceirr.html#ac66849b7a6ed16e30ebede579f9b47c6" title="32 bit signed variable.">s32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#ae3db955f81f1b2a0835276e0c8a41c6b">swapLump</a>;
<a name="l00074"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a3b853f6b890049285991b0133520d443">00074</a>         <a class="code" href="namespaceirr.html#ac66849b7a6ed16e30ebede579f9b47c6" title="32 bit signed variable.">s32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a3b853f6b890049285991b0133520d443">swapHeader</a>;
<a name="l00075"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a4347b623412b46c978abd8395f044958">00075</a>         <a class="code" href="namespaceirr.html#a9395eaea339bcb546b319e9c96bf7410" title="8 bit character variable.">c8</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_q3_level_load_parameter.html#a4347b623412b46c978abd8395f044958">scriptDir</a> [ 64 ];
<a name="l00076"></a>00076     };
<a name="l00077"></a>00077 
<a name="l00078"></a>00078     <span class="comment">// some useful typedefs</span>
<a name="l00079"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#aede5e6b635e39a2b078e49f68aca35a5">00079</a>     <span class="keyword">typedef</span> <a class="code" href="classirr_1_1core_1_1array.html" title="Self reallocating template array (like stl vector) with additional features.">core::array&lt; core::stringc &gt;</a> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#aede5e6b635e39a2b078e49f68aca35a5">tStringList</a>;
<a name="l00080"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#ab55f9aebacf2d35730c3a4eb2323a726">00080</a>     <span class="keyword">typedef</span> <a class="code" href="classirr_1_1core_1_1array.html" title="Self reallocating template array (like stl vector) with additional features.">core::array&lt; video::ITexture* &gt;</a> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#ab55f9aebacf2d35730c3a4eb2323a726">tTexArray</a>;
<a name="l00081"></a>00081 
<a name="l00082"></a>00082     <span class="comment">// string helper.. TODO: move to generic files</span>
<a name="l00083"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a3d99d316c147cbd82f32311a1c9e9edb">00083</a>     <span class="keyword">inline</span> <a class="code" href="namespaceirr.html#a43ace0af066371ac0862bac3f7314220" title="16 bit signed variable.">s16</a> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a3d99d316c147cbd82f32311a1c9e9edb">isEqual</a> ( <span class="keyword">const</span> <a class="code" href="classirr_1_1core_1_1string.html">core::stringc</a> &amp;<span class="keywordtype">string</span>, <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> &amp;pos, <span class="keyword">const</span> <a class="code" href="namespaceirr.html#a9395eaea339bcb546b319e9c96bf7410" title="8 bit character variable.">c8</a> *list[], <a class="code" href="namespaceirr.html#ae9f8ec82692ad3b83c21f555bfa70bcc" title="16 bit unsigned variable.">u16</a> listSize )
<a name="l00084"></a>00084     {
<a name="l00085"></a>00085         <span class="keyword">const</span> <span class="keywordtype">char</span> * in = <span class="keywordtype">string</span>.c_str () + pos;
<a name="l00086"></a>00086 
<a name="l00087"></a>00087         <span class="keywordflow">for</span> ( <a class="code" href="namespaceirr.html#ae9f8ec82692ad3b83c21f555bfa70bcc" title="16 bit unsigned variable.">u16</a> i = 0; i != listSize; ++i )
<a name="l00088"></a>00088         {
<a name="l00089"></a>00089             <span class="keywordflow">if</span> (<span class="keywordtype">string</span>.size() &lt; pos)
<a name="l00090"></a>00090                 <span class="keywordflow">return</span> -2;
<a name="l00091"></a>00091             <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> len = (<a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a>) strlen ( list[i] );
<a name="l00092"></a>00092             <span class="keywordflow">if</span> (<span class="keywordtype">string</span>.size() &lt; pos+len)
<a name="l00093"></a>00093                 <span class="keywordflow">continue</span>;
<a name="l00094"></a>00094             <span class="keywordflow">if</span> ( in [len] != 0 &amp;&amp; in [len] != <span class="charliteral">&#39; &#39;</span> )
<a name="l00095"></a>00095                 <span class="keywordflow">continue</span>;
<a name="l00096"></a>00096             <span class="keywordflow">if</span> ( strncmp ( in, list[i], len ) )
<a name="l00097"></a>00097                 <span class="keywordflow">continue</span>;
<a name="l00098"></a>00098 
<a name="l00099"></a>00099             pos += len + 1;
<a name="l00100"></a>00100             <span class="keywordflow">return</span> (<a class="code" href="namespaceirr.html#a43ace0af066371ac0862bac3f7314220" title="16 bit signed variable.">s16</a>) i;
<a name="l00101"></a>00101         }
<a name="l00102"></a>00102         <span class="keywordflow">return</span> -2;
<a name="l00103"></a>00103     }
<a name="l00104"></a>00104 
<a name="l00105"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#adca7fb6948f37384aca94a4c9ac73f14">00105</a>     <span class="keyword">inline</span> <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#adca7fb6948f37384aca94a4c9ac73f14">getAsFloat</a> ( <span class="keyword">const</span> <a class="code" href="classirr_1_1core_1_1string.html">core::stringc</a> &amp;<span class="keywordtype">string</span>, <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> &amp;pos )
<a name="l00106"></a>00106     {
<a name="l00107"></a>00107         <span class="keyword">const</span> <span class="keywordtype">char</span> * in = <span class="keywordtype">string</span>.c_str () + pos;
<a name="l00108"></a>00108 
<a name="l00109"></a>00109         <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> value = 0.f;
<a name="l00110"></a>00110         pos += (<a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a>) ( <a class="code" href="namespaceirr_1_1core.html#ae5806ec05e45a700461890ec5e6f602a" title="Provides a fast function for converting a string into a float.">core::fast_atof_move</a> ( in, value ) - in ) + 1;
<a name="l00111"></a>00111         <span class="keywordflow">return</span> value;
<a name="l00112"></a>00112     }
<a name="l00113"></a>00113 
<a name="l00115"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a6163d5a7fba9950a2f390a42fe354c3f">00115</a>     <span class="keyword">inline</span> <a class="code" href="classirr_1_1core_1_1vector3d.html">core::vector3df</a> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a6163d5a7fba9950a2f390a42fe354c3f" title="get a quake3 vector translated to irrlicht position (x,-z,y )">getAsVector3df</a> ( <span class="keyword">const</span> <a class="code" href="classirr_1_1core_1_1string.html">core::stringc</a> &amp;<span class="keywordtype">string</span>, <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> &amp;pos )
<a name="l00116"></a>00116     {
<a name="l00117"></a>00117         <a class="code" href="classirr_1_1core_1_1vector3d.html">core::vector3df</a> v;
<a name="l00118"></a>00118 
<a name="l00119"></a>00119         v.<a class="code" href="classirr_1_1core_1_1vector3d.html#a8c9ed06774dc668112bcefacb6e7732b" title="X coordinate of the vector.">X</a> = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#adca7fb6948f37384aca94a4c9ac73f14">getAsFloat</a> ( <span class="keywordtype">string</span>, pos );
<a name="l00120"></a>00120         v.<a class="code" href="classirr_1_1core_1_1vector3d.html#ac2beb702e718c3579971348981b220ed" title="Z coordinate of the vector.">Z</a> = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#adca7fb6948f37384aca94a4c9ac73f14">getAsFloat</a> ( <span class="keywordtype">string</span>, pos );
<a name="l00121"></a>00121         v.<a class="code" href="classirr_1_1core_1_1vector3d.html#af8f87c2fe0ce717ade7c3d7419302fbd" title="Y coordinate of the vector.">Y</a> = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#adca7fb6948f37384aca94a4c9ac73f14">getAsFloat</a> ( <span class="keywordtype">string</span>, pos );
<a name="l00122"></a>00122 
<a name="l00123"></a>00123         <span class="keywordflow">return</span> v;
<a name="l00124"></a>00124     }
<a name="l00125"></a>00125 
<a name="l00126"></a>00126 
<a name="l00127"></a>00127     <span class="comment">/*</span>
<a name="l00128"></a>00128 <span class="comment">        extract substrings</span>
<a name="l00129"></a>00129 <span class="comment">    */</span>
<a name="l00130"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a9e8ef7fea6538ba79f0ab68264ef04f9">00130</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a9e8ef7fea6538ba79f0ab68264ef04f9">getAsStringList</a> ( <a class="code" href="classirr_1_1core_1_1array.html" title="Self reallocating template array (like stl vector) with additional features.">tStringList</a> &amp;list, <a class="code" href="namespaceirr.html#ac66849b7a6ed16e30ebede579f9b47c6" title="32 bit signed variable.">s32</a> max, <span class="keyword">const</span> <a class="code" href="classirr_1_1core_1_1string.html">core::stringc</a> &amp;<span class="keywordtype">string</span>, <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> &amp;startPos )
<a name="l00131"></a>00131     {
<a name="l00132"></a>00132         list.<a class="code" href="classirr_1_1core_1_1array.html#a236e08ca44ddf3c2b47b726f90db8d39" title="Clears the array and deletes all allocated memory.">clear</a> ();
<a name="l00133"></a>00133 
<a name="l00134"></a>00134         <a class="code" href="namespaceirr.html#ac66849b7a6ed16e30ebede579f9b47c6" title="32 bit signed variable.">s32</a> finish = 0;
<a name="l00135"></a>00135         <a class="code" href="namespaceirr.html#ac66849b7a6ed16e30ebede579f9b47c6" title="32 bit signed variable.">s32</a> endPos;
<a name="l00136"></a>00136         <span class="keywordflow">do</span>
<a name="l00137"></a>00137         {
<a name="l00138"></a>00138             endPos = <span class="keywordtype">string</span>.findNext ( <span class="charliteral">&#39; &#39;</span>, startPos );
<a name="l00139"></a>00139             <span class="keywordflow">if</span> ( endPos == -1 )
<a name="l00140"></a>00140             {
<a name="l00141"></a>00141                 finish = 1;
<a name="l00142"></a>00142                 endPos = <span class="keywordtype">string</span>.size();
<a name="l00143"></a>00143             }
<a name="l00144"></a>00144 
<a name="l00145"></a>00145             list.<a class="code" href="classirr_1_1core_1_1array.html#ad2c9dff8592b95c25c59f5383fc633fe" title="Adds an element at back of array.">push_back</a> ( <span class="keywordtype">string</span>.subString ( startPos, endPos - startPos ) );
<a name="l00146"></a>00146             startPos = endPos + 1;
<a name="l00147"></a>00147 
<a name="l00148"></a>00148             <span class="keywordflow">if</span> ( list.<a class="code" href="classirr_1_1core_1_1array.html#abc592bab637d54799b6c86d6d0e8adf8" title="Get number of occupied elements of the array.">size</a>() &gt;= (<a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a>) max )
<a name="l00149"></a>00149                 finish = 1;
<a name="l00150"></a>00150 
<a name="l00151"></a>00151         } <span class="keywordflow">while</span> ( !finish );
<a name="l00152"></a>00152 
<a name="l00153"></a>00153     }
<a name="l00154"></a>00154 
<a name="l00156"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_blend_func.html">00156</a>     <span class="keyword">struct </span><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_blend_func.html" title="A blend function for a q3 shader.">SBlendFunc</a>
<a name="l00157"></a>00157     {
<a name="l00158"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_blend_func.html#af0e5cdca1b7abd23d4041e0bb5ec6fc3">00158</a>         <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_blend_func.html#af0e5cdca1b7abd23d4041e0bb5ec6fc3">SBlendFunc</a> ( <a class="code" href="namespaceirr_1_1video.html#a1402e9045137ae232fafbdf385800843" title="MaterialTypeParam: e.g. DirectX: D3DTOP_MODULATE, D3DTOP_MODULATE2X, D3DTOP_MODULATE4X.">video::E_MODULATE_FUNC</a> mod )
<a name="l00159"></a>00159             : <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_blend_func.html#aaf56b7dd43573b5c04a571059a2b5207">type</a> ( video::<a class="code" href="namespaceirr_1_1video.html#ac8e9b6c66f7cebabd1a6d30cbc5430f1a9bc471b9c18c9e2d20496004d2a2e803" title="Standard solid material.">EMT_SOLID</a> ), <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_blend_func.html#a6267a0dc90908c91077c8ad4d7f8decd">modulate</a> ( mod ),
<a name="l00160"></a>00160                 <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_blend_func.html#ad48cab9c5c5b9fdbeb6e72b283b7f4f6">param0</a>( 0.f ),
<a name="l00161"></a>00161             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_blend_func.html#a897beb56b0b54d324a3d5779dd48790b">isTransparent</a> ( 0 ) {}
<a name="l00162"></a>00162 
<a name="l00163"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_blend_func.html#aaf56b7dd43573b5c04a571059a2b5207">00163</a>         <a class="code" href="namespaceirr_1_1video.html#ac8e9b6c66f7cebabd1a6d30cbc5430f1" title="Abstracted and easy to use fixed function/programmable pipeline material modes.">video::E_MATERIAL_TYPE</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_blend_func.html#aaf56b7dd43573b5c04a571059a2b5207">type</a>;
<a name="l00164"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_blend_func.html#a6267a0dc90908c91077c8ad4d7f8decd">00164</a>         <a class="code" href="namespaceirr_1_1video.html#a1402e9045137ae232fafbdf385800843" title="MaterialTypeParam: e.g. DirectX: D3DTOP_MODULATE, D3DTOP_MODULATE2X, D3DTOP_MODULATE4X.">video::E_MODULATE_FUNC</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_blend_func.html#a6267a0dc90908c91077c8ad4d7f8decd">modulate</a>;
<a name="l00165"></a>00165 
<a name="l00166"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_blend_func.html#ad48cab9c5c5b9fdbeb6e72b283b7f4f6">00166</a>         <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_blend_func.html#ad48cab9c5c5b9fdbeb6e72b283b7f4f6">param0</a>;
<a name="l00167"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_blend_func.html#a897beb56b0b54d324a3d5779dd48790b">00167</a>         <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_blend_func.html#a897beb56b0b54d324a3d5779dd48790b">isTransparent</a>;
<a name="l00168"></a>00168     };
<a name="l00169"></a>00169 
<a name="l00170"></a>00170     <span class="comment">// parses the content of Variable cull</span>
<a name="l00171"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a5f3bb105fc95818bc8e449fe2a99fc08">00171</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a5f3bb105fc95818bc8e449fe2a99fc08">getCullingFunction</a> ( <span class="keyword">const</span> <a class="code" href="classirr_1_1core_1_1string.html">core::stringc</a> &amp;cull )
<a name="l00172"></a>00172     {
<a name="l00173"></a>00173         <span class="keywordflow">if</span> ( cull.<a class="code" href="classirr_1_1core_1_1string.html#a062f23675d892012c7e8d5d4e92ecd00" title="Returns length of the string&#39;s content.">size</a>() == 0 )
<a name="l00174"></a>00174             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00175"></a>00175 
<a name="l00176"></a>00176         <span class="keywordtype">bool</span> ret = <span class="keyword">true</span>;
<a name="l00177"></a>00177         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespaceirr.html#a9395eaea339bcb546b319e9c96bf7410" title="8 bit character variable.">c8</a> * funclist[] = { <span class="stringliteral">&quot;none&quot;</span>, <span class="stringliteral">&quot;disable&quot;</span>, <span class="stringliteral">&quot;twosided&quot;</span> };
<a name="l00178"></a>00178 
<a name="l00179"></a>00179         <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> pos = 0;
<a name="l00180"></a>00180         <span class="keywordflow">switch</span> ( <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a3d99d316c147cbd82f32311a1c9e9edb">isEqual</a> ( cull, pos, funclist, 3 ) )
<a name="l00181"></a>00181         {
<a name="l00182"></a>00182             <span class="keywordflow">case</span> 0:
<a name="l00183"></a>00183             <span class="keywordflow">case</span> 1:
<a name="l00184"></a>00184             <span class="keywordflow">case</span> 2:
<a name="l00185"></a>00185                 ret = <span class="keyword">false</span>;
<a name="l00186"></a>00186                 <span class="keywordflow">break</span>;
<a name="l00187"></a>00187         }
<a name="l00188"></a>00188         <span class="keywordflow">return</span> ret;
<a name="l00189"></a>00189     }
<a name="l00190"></a>00190 
<a name="l00191"></a>00191     <span class="comment">// parses the content of Variable depthfunc</span>
<a name="l00192"></a>00192     <span class="comment">// return a z-test</span>
<a name="l00193"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a195830e71e7d68e2f270ad505c75ae1c">00193</a>     <span class="keyword">inline</span> <a class="code" href="namespaceirr.html#a646874f69af8ff87fc10201b0254a761" title="8 bit unsigned variable.">u8</a> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a195830e71e7d68e2f270ad505c75ae1c">getDepthFunction</a> ( <span class="keyword">const</span> <a class="code" href="classirr_1_1core_1_1string.html">core::stringc</a> &amp;<span class="keywordtype">string</span> )
<a name="l00194"></a>00194     {
<a name="l00195"></a>00195         <a class="code" href="namespaceirr.html#a646874f69af8ff87fc10201b0254a761" title="8 bit unsigned variable.">u8</a> ret = <a class="code" href="namespaceirr_1_1video.html#af5f3986e1d1be0f8d9aca55130ff5878a7d2ba60c17f30a8cc461da4f5f955ea5" title="&lt;= test, default for e.g. depth test">video::ECFN_LESSEQUAL</a>;
<a name="l00196"></a>00196 
<a name="l00197"></a>00197         <span class="keywordflow">if</span> ( <span class="keywordtype">string</span>.size() == 0 )
<a name="l00198"></a>00198             <span class="keywordflow">return</span> ret;
<a name="l00199"></a>00199 
<a name="l00200"></a>00200         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespaceirr.html#a9395eaea339bcb546b319e9c96bf7410" title="8 bit character variable.">c8</a> * funclist[] = { <span class="stringliteral">&quot;lequal&quot;</span>,<span class="stringliteral">&quot;equal&quot;</span> };
<a name="l00201"></a>00201 
<a name="l00202"></a>00202         <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> pos = 0;
<a name="l00203"></a>00203         <span class="keywordflow">switch</span> ( <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a3d99d316c147cbd82f32311a1c9e9edb">isEqual</a> ( <span class="keywordtype">string</span>, pos, funclist, 2 ) )
<a name="l00204"></a>00204         {
<a name="l00205"></a>00205             <span class="keywordflow">case</span> 0:
<a name="l00206"></a>00206                 ret = <a class="code" href="namespaceirr_1_1video.html#af5f3986e1d1be0f8d9aca55130ff5878a7d2ba60c17f30a8cc461da4f5f955ea5" title="&lt;= test, default for e.g. depth test">video::ECFN_LESSEQUAL</a>;
<a name="l00207"></a>00207             <span class="keywordflow">case</span> 1:
<a name="l00208"></a>00208                 ret = <a class="code" href="namespaceirr_1_1video.html#af5f3986e1d1be0f8d9aca55130ff5878aa5ae12d8040a20df7f4bd8c3a2aa9079" title="Exact equality.">video::ECFN_EQUAL</a>;
<a name="l00209"></a>00209                 <span class="keywordflow">break</span>;
<a name="l00210"></a>00210         }
<a name="l00211"></a>00211         <span class="keywordflow">return</span> ret;
<a name="l00212"></a>00212     }
<a name="l00213"></a>00213 
<a name="l00214"></a>00214 
<a name="l00226"></a>00226     <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">void</span> getBlendFunc ( <span class="keyword">const</span> <a class="code" href="classirr_1_1core_1_1string.html">core::stringc</a> &amp;<span class="keywordtype">string</span>, SBlendFunc &amp;blendfunc )
<a name="l00227"></a>00227     {
<a name="l00228"></a>00228         <span class="keywordflow">if</span> ( <span class="keywordtype">string</span>.size() == 0 )
<a name="l00229"></a>00229             <span class="keywordflow">return</span>;
<a name="l00230"></a>00230 
<a name="l00231"></a>00231         <span class="comment">// maps to E_BLEND_FACTOR</span>
<a name="l00232"></a>00232         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespaceirr.html#a9395eaea339bcb546b319e9c96bf7410" title="8 bit character variable.">c8</a> * funclist[] =
<a name="l00233"></a>00233         {
<a name="l00234"></a>00234             <span class="stringliteral">&quot;gl_zero&quot;</span>,
<a name="l00235"></a>00235             <span class="stringliteral">&quot;gl_one&quot;</span>,
<a name="l00236"></a>00236             <span class="stringliteral">&quot;gl_dst_color&quot;</span>,
<a name="l00237"></a>00237             <span class="stringliteral">&quot;gl_one_minus_dst_color&quot;</span>,
<a name="l00238"></a>00238             <span class="stringliteral">&quot;gl_src_color&quot;</span>,
<a name="l00239"></a>00239             <span class="stringliteral">&quot;gl_one_minus_src_color&quot;</span>,
<a name="l00240"></a>00240             <span class="stringliteral">&quot;gl_src_alpha&quot;</span>,
<a name="l00241"></a>00241             <span class="stringliteral">&quot;gl_one_minus_src_alpha&quot;</span>,
<a name="l00242"></a>00242             <span class="stringliteral">&quot;gl_dst_alpha&quot;</span>,
<a name="l00243"></a>00243             <span class="stringliteral">&quot;gl_one_minus_dst_alpha&quot;</span>,
<a name="l00244"></a>00244             <span class="stringliteral">&quot;gl_src_alpha_sat&quot;</span>,
<a name="l00245"></a>00245 
<a name="l00246"></a>00246             <span class="stringliteral">&quot;add&quot;</span>,
<a name="l00247"></a>00247             <span class="stringliteral">&quot;filter&quot;</span>,
<a name="l00248"></a>00248             <span class="stringliteral">&quot;blend&quot;</span>,
<a name="l00249"></a>00249 
<a name="l00250"></a>00250             <span class="stringliteral">&quot;ge128&quot;</span>,
<a name="l00251"></a>00251             <span class="stringliteral">&quot;gt0&quot;</span>,
<a name="l00252"></a>00252         };
<a name="l00253"></a>00253 
<a name="l00254"></a>00254 
<a name="l00255"></a>00255         <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> pos = 0;
<a name="l00256"></a>00256         <a class="code" href="namespaceirr.html#ac66849b7a6ed16e30ebede579f9b47c6" title="32 bit signed variable.">s32</a> srcFact = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a3d99d316c147cbd82f32311a1c9e9edb">isEqual</a> ( <span class="keywordtype">string</span>, pos, funclist, 16 );
<a name="l00257"></a>00257 
<a name="l00258"></a>00258         <span class="keywordflow">if</span> ( srcFact &lt; 0 )
<a name="l00259"></a>00259             <span class="keywordflow">return</span>;
<a name="l00260"></a>00260 
<a name="l00261"></a>00261         <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> resolved = 0;
<a name="l00262"></a>00262         <a class="code" href="namespaceirr.html#ac66849b7a6ed16e30ebede579f9b47c6" title="32 bit signed variable.">s32</a> dstFact = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a3d99d316c147cbd82f32311a1c9e9edb">isEqual</a> ( <span class="keywordtype">string</span>, pos, funclist, 16 );
<a name="l00263"></a>00263 
<a name="l00264"></a>00264         <span class="keywordflow">switch</span> ( srcFact )
<a name="l00265"></a>00265         {
<a name="l00266"></a>00266             <span class="keywordflow">case</span> <a class="code" href="namespaceirr_1_1video.html#acae10401850a6cfd5fcf1548c6c884bca540abc7dd9e36d4e9ab1bd800ff0cabb" title="src &amp; dest (0, 0, 0, 0)">video::EBF_ZERO</a>:
<a name="l00267"></a>00267                 <span class="keywordflow">switch</span> ( dstFact )
<a name="l00268"></a>00268                 {
<a name="l00269"></a>00269                     <span class="comment">// gl_zero gl_src_color == gl_dst_color gl_zero</span>
<a name="l00270"></a>00270                     <span class="keywordflow">case</span> <a class="code" href="namespaceirr_1_1video.html#acae10401850a6cfd5fcf1548c6c884bca2aeff4b6a46a6689bae3e5c71c4f3e95" title="dest (srcR, srcG, srcB, srcA)">video::EBF_SRC_COLOR</a>:
<a name="l00271"></a>00271                         blendfunc.type = <a class="code" href="namespaceirr_1_1video.html#ac8e9b6c66f7cebabd1a6d30cbc5430f1a09498eaf291e1f7abdc04db808cc15d9" title="BlendFunc = source * sourceFactor + dest * destFactor ( E_BLEND_FUNC )">video::EMT_ONETEXTURE_BLEND</a>;
<a name="l00272"></a>00272                         blendfunc.param0 = <a class="code" href="namespaceirr_1_1video.html#ad4d715752a69b052e582b06283513e49" title="EMT_ONETEXTURE_BLEND: pack srcFact, dstFact, Modulate and alpha source to MaterialTypeParam.">video::pack_textureBlendFunc</a> ( <a class="code" href="namespaceirr_1_1video.html#acae10401850a6cfd5fcf1548c6c884bca8f6471362a6f2c661601d1d1b2c9428d" title="src (destR, destG, destB, destA)">video::EBF_DST_COLOR</a>, <a class="code" href="namespaceirr_1_1video.html#acae10401850a6cfd5fcf1548c6c884bca540abc7dd9e36d4e9ab1bd800ff0cabb" title="src &amp; dest (0, 0, 0, 0)">video::EBF_ZERO</a>, blendfunc.modulate );
<a name="l00273"></a>00273                         blendfunc.isTransparent = 1;
<a name="l00274"></a>00274                         resolved = 1;
<a name="l00275"></a>00275                         <span class="keywordflow">break</span>;
<a name="l00276"></a>00276                 } <span class="keywordflow">break</span>;
<a name="l00277"></a>00277 
<a name="l00278"></a>00278             <span class="keywordflow">case</span> <a class="code" href="namespaceirr_1_1video.html#acae10401850a6cfd5fcf1548c6c884bca1e0d8b9190c96495eab3a6e6967d687f" title="src &amp; dest (1, 1, 1, 1)">video::EBF_ONE</a>:
<a name="l00279"></a>00279                 <span class="keywordflow">switch</span> ( dstFact )
<a name="l00280"></a>00280                 {
<a name="l00281"></a>00281                     <span class="comment">// gl_one gl_zero</span>
<a name="l00282"></a>00282                     <span class="keywordflow">case</span> <a class="code" href="namespaceirr_1_1video.html#acae10401850a6cfd5fcf1548c6c884bca540abc7dd9e36d4e9ab1bd800ff0cabb" title="src &amp; dest (0, 0, 0, 0)">video::EBF_ZERO</a>:
<a name="l00283"></a>00283                         blendfunc.type = <a class="code" href="namespaceirr_1_1video.html#ac8e9b6c66f7cebabd1a6d30cbc5430f1a9bc471b9c18c9e2d20496004d2a2e803" title="Standard solid material.">video::EMT_SOLID</a>;
<a name="l00284"></a>00284                         blendfunc.isTransparent = 0;
<a name="l00285"></a>00285                         resolved = 1;
<a name="l00286"></a>00286                         <span class="keywordflow">break</span>;
<a name="l00287"></a>00287 
<a name="l00288"></a>00288                     <span class="comment">// gl_one gl_one</span>
<a name="l00289"></a>00289                     <span class="keywordflow">case</span> <a class="code" href="namespaceirr_1_1video.html#acae10401850a6cfd5fcf1548c6c884bca1e0d8b9190c96495eab3a6e6967d687f" title="src &amp; dest (1, 1, 1, 1)">video::EBF_ONE</a>:
<a name="l00290"></a>00290                         blendfunc.type = <a class="code" href="namespaceirr_1_1video.html#ac8e9b6c66f7cebabd1a6d30cbc5430f1a1b5a814c4466aca2943ff056003a50d1" title="A transparent material.">video::EMT_TRANSPARENT_ADD_COLOR</a>;
<a name="l00291"></a>00291                         blendfunc.isTransparent = 1;
<a name="l00292"></a>00292                         resolved = 1;
<a name="l00293"></a>00293                         <span class="keywordflow">break</span>;
<a name="l00294"></a>00294                 } <span class="keywordflow">break</span>;
<a name="l00295"></a>00295 
<a name="l00296"></a>00296             <span class="keywordflow">case</span> <a class="code" href="namespaceirr_1_1video.html#acae10401850a6cfd5fcf1548c6c884bca1ac42d35dd7883099dfb5be8f6300a2b" title="src &amp; dest (srcA, srcA, srcA, srcA)">video::EBF_SRC_ALPHA</a>:
<a name="l00297"></a>00297                 <span class="keywordflow">switch</span> ( dstFact )
<a name="l00298"></a>00298                 {
<a name="l00299"></a>00299                     <span class="comment">// gl_src_alpha gl_one_minus_src_alpha</span>
<a name="l00300"></a>00300                     <span class="keywordflow">case</span> <a class="code" href="namespaceirr_1_1video.html#acae10401850a6cfd5fcf1548c6c884bca7e6c99e4803094ff5bb9fd85f77d02b9" title="src &amp; dest (1-srcA, 1-srcA, 1-srcA, 1-srcA)">video::EBF_ONE_MINUS_SRC_ALPHA</a>:
<a name="l00301"></a>00301                         blendfunc.type = <a class="code" href="namespaceirr_1_1video.html#ac8e9b6c66f7cebabd1a6d30cbc5430f1ac08aa3715ad41281472202107a81f736" title="Makes the material transparent based on the texture alpha channel.">video::EMT_TRANSPARENT_ALPHA_CHANNEL</a>;
<a name="l00302"></a>00302                         blendfunc.param0 = 1.f/255.f;
<a name="l00303"></a>00303                         blendfunc.isTransparent = 1;
<a name="l00304"></a>00304                         resolved = 1;
<a name="l00305"></a>00305                         <span class="keywordflow">break</span>;
<a name="l00306"></a>00306                 } <span class="keywordflow">break</span>;
<a name="l00307"></a>00307 
<a name="l00308"></a>00308             <span class="keywordflow">case</span> 11:
<a name="l00309"></a>00309                 <span class="comment">// add</span>
<a name="l00310"></a>00310                 blendfunc.type = <a class="code" href="namespaceirr_1_1video.html#ac8e9b6c66f7cebabd1a6d30cbc5430f1a1b5a814c4466aca2943ff056003a50d1" title="A transparent material.">video::EMT_TRANSPARENT_ADD_COLOR</a>;
<a name="l00311"></a>00311                 blendfunc.isTransparent = 1;
<a name="l00312"></a>00312                 resolved = 1;
<a name="l00313"></a>00313                 <span class="keywordflow">break</span>;
<a name="l00314"></a>00314             <span class="keywordflow">case</span> 12:
<a name="l00315"></a>00315                 <span class="comment">// filter = gl_dst_color gl_zero or gl_zero gl_src_color</span>
<a name="l00316"></a>00316                 blendfunc.type = <a class="code" href="namespaceirr_1_1video.html#ac8e9b6c66f7cebabd1a6d30cbc5430f1a09498eaf291e1f7abdc04db808cc15d9" title="BlendFunc = source * sourceFactor + dest * destFactor ( E_BLEND_FUNC )">video::EMT_ONETEXTURE_BLEND</a>;
<a name="l00317"></a>00317                 blendfunc.param0 = <a class="code" href="namespaceirr_1_1video.html#ad4d715752a69b052e582b06283513e49" title="EMT_ONETEXTURE_BLEND: pack srcFact, dstFact, Modulate and alpha source to MaterialTypeParam.">video::pack_textureBlendFunc</a> ( <a class="code" href="namespaceirr_1_1video.html#acae10401850a6cfd5fcf1548c6c884bca8f6471362a6f2c661601d1d1b2c9428d" title="src (destR, destG, destB, destA)">video::EBF_DST_COLOR</a>, <a class="code" href="namespaceirr_1_1video.html#acae10401850a6cfd5fcf1548c6c884bca540abc7dd9e36d4e9ab1bd800ff0cabb" title="src &amp; dest (0, 0, 0, 0)">video::EBF_ZERO</a>, blendfunc.modulate );
<a name="l00318"></a>00318                 blendfunc.isTransparent = 1;
<a name="l00319"></a>00319                 resolved = 1;
<a name="l00320"></a>00320                 <span class="keywordflow">break</span>;
<a name="l00321"></a>00321             <span class="keywordflow">case</span> 13:
<a name="l00322"></a>00322                 <span class="comment">// blend = gl_src_alpha gl_one_minus_src_alpha</span>
<a name="l00323"></a>00323                 blendfunc.type = <a class="code" href="namespaceirr_1_1video.html#ac8e9b6c66f7cebabd1a6d30cbc5430f1ac08aa3715ad41281472202107a81f736" title="Makes the material transparent based on the texture alpha channel.">video::EMT_TRANSPARENT_ALPHA_CHANNEL</a>;
<a name="l00324"></a>00324                 blendfunc.param0 = 1.f/255.f;
<a name="l00325"></a>00325                 blendfunc.isTransparent = 1;
<a name="l00326"></a>00326                 resolved = 1;
<a name="l00327"></a>00327                 <span class="keywordflow">break</span>;
<a name="l00328"></a>00328             <span class="keywordflow">case</span> 14:
<a name="l00329"></a>00329                 <span class="comment">// alphafunc ge128</span>
<a name="l00330"></a>00330                 blendfunc.type = <a class="code" href="namespaceirr_1_1video.html#ac8e9b6c66f7cebabd1a6d30cbc5430f1ac08aa3715ad41281472202107a81f736" title="Makes the material transparent based on the texture alpha channel.">video::EMT_TRANSPARENT_ALPHA_CHANNEL</a>;
<a name="l00331"></a>00331                 blendfunc.param0 = 0.5f;
<a name="l00332"></a>00332                 blendfunc.isTransparent = 1;
<a name="l00333"></a>00333                 resolved = 1;
<a name="l00334"></a>00334                 <span class="keywordflow">break</span>;
<a name="l00335"></a>00335             <span class="keywordflow">case</span> 15:
<a name="l00336"></a>00336                 <span class="comment">// alphafunc gt0</span>
<a name="l00337"></a>00337                 blendfunc.type = <a class="code" href="namespaceirr_1_1video.html#ac8e9b6c66f7cebabd1a6d30cbc5430f1ac08aa3715ad41281472202107a81f736" title="Makes the material transparent based on the texture alpha channel.">video::EMT_TRANSPARENT_ALPHA_CHANNEL</a>;
<a name="l00338"></a>00338                 blendfunc.param0 = 1.f / 255.f;
<a name="l00339"></a>00339                 blendfunc.isTransparent = 1;
<a name="l00340"></a>00340                 resolved = 1;
<a name="l00341"></a>00341                 <span class="keywordflow">break</span>;
<a name="l00342"></a>00342 
<a name="l00343"></a>00343         }
<a name="l00344"></a>00344 
<a name="l00345"></a>00345         <span class="comment">// use the generic blender</span>
<a name="l00346"></a>00346         <span class="keywordflow">if</span> ( 0 == resolved )
<a name="l00347"></a>00347         {
<a name="l00348"></a>00348             blendfunc.type = <a class="code" href="namespaceirr_1_1video.html#ac8e9b6c66f7cebabd1a6d30cbc5430f1a09498eaf291e1f7abdc04db808cc15d9" title="BlendFunc = source * sourceFactor + dest * destFactor ( E_BLEND_FUNC )">video::EMT_ONETEXTURE_BLEND</a>;
<a name="l00349"></a>00349             blendfunc.param0 = <a class="code" href="namespaceirr_1_1video.html#ad4d715752a69b052e582b06283513e49" title="EMT_ONETEXTURE_BLEND: pack srcFact, dstFact, Modulate and alpha source to MaterialTypeParam.">video::pack_textureBlendFunc</a> (
<a name="l00350"></a>00350                     (<a class="code" href="namespaceirr_1_1video.html#acae10401850a6cfd5fcf1548c6c884bc" title="Flag for EMT_ONETEXTURE_BLEND, ( BlendFactor ) BlendFunc = source * sourceFactor + dest * destFactor...">video::E_BLEND_FACTOR</a>) srcFact,
<a name="l00351"></a>00351                     (<a class="code" href="namespaceirr_1_1video.html#acae10401850a6cfd5fcf1548c6c884bc" title="Flag for EMT_ONETEXTURE_BLEND, ( BlendFactor ) BlendFunc = source * sourceFactor + dest * destFactor...">video::E_BLEND_FACTOR</a>) dstFact,
<a name="l00352"></a>00352                     blendfunc.modulate);
<a name="l00353"></a>00353 
<a name="l00354"></a>00354             blendfunc.isTransparent = 1;
<a name="l00355"></a>00355         }
<a name="l00356"></a>00356     }
<a name="l00357"></a>00357 
<a name="l00358"></a>00358     <span class="comment">// random noise [-1;1]</span>
<a name="l00359"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_noiser.html">00359</a>     <span class="keyword">struct </span><a class="code" href="structirr_1_1scene_1_1quake3_1_1_noiser.html">Noiser</a>
<a name="l00360"></a>00360     {
<a name="l00361"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_noiser.html#a29ccb50537e0fb7e3a883a8729de64ca">00361</a>         <span class="keyword">static</span> <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> <span class="keyword">get</span> ()
<a name="l00362"></a>00362         {
<a name="l00363"></a>00363             <span class="keyword">static</span> <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> RandomSeed = 0x69666966;
<a name="l00364"></a>00364             RandomSeed = (RandomSeed * 3631 + 1);
<a name="l00365"></a>00365 
<a name="l00366"></a>00366             <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> value = ( (<a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a>) (RandomSeed &amp; 0x7FFF ) * (1.0f / (<a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a>)(0x7FFF &gt;&gt; 1) ) ) - 1.f;
<a name="l00367"></a>00367             <span class="keywordflow">return</span> value;
<a name="l00368"></a>00368         }
<a name="l00369"></a>00369     };
<a name="l00370"></a>00370 
<a name="l00371"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9c">00371</a>     <span class="keyword">enum</span> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9c">eQ3ModifierFunction</a>
<a name="l00372"></a>00372     {
<a name="l00373"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca5f9b9e890ee8dfd811edb17340f617fd">00373</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca5f9b9e890ee8dfd811edb17340f617fd">TCMOD</a>               = 0,
<a name="l00374"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab024983a10dcf338e3e99dc8a3ec2a22">00374</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab024983a10dcf338e3e99dc8a3ec2a22">DEFORMVERTEXES</a>      = 1,
<a name="l00375"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca9ae1f28947b9028f2c4bd76d3c616d11">00375</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca9ae1f28947b9028f2c4bd76d3c616d11">RGBGEN</a>              = 2,
<a name="l00376"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cabdb57e9f0ebef018a0a087647ed95c14">00376</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cabdb57e9f0ebef018a0a087647ed95c14">TCGEN</a>               = 3,
<a name="l00377"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab2385004c1f5dd754cc2030b96853a68">00377</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab2385004c1f5dd754cc2030b96853a68">MAP</a>                 = 4,
<a name="l00378"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca6c370af27bf405f1708199108f97eae9">00378</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca6c370af27bf405f1708199108f97eae9">ALPHAGEN</a>            = 5,
<a name="l00379"></a>00379 
<a name="l00380"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">00380</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a>           = 0x10,
<a name="l00381"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca9d1decc9a92e6606a72d3eed8197c262">00381</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca9d1decc9a92e6606a72d3eed8197c262">SCROLL</a>              = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 1,
<a name="l00382"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca28877dcd868f3a458418a386aa6203f3">00382</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca28877dcd868f3a458418a386aa6203f3">SCALE</a>               = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 2,
<a name="l00383"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cac0d0125263ecea0ffa20a40aa11c1923">00383</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cac0d0125263ecea0ffa20a40aa11c1923">ROTATE</a>              = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 3,
<a name="l00384"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cac74c789881232ef816c9ca0c4b0cb6ff">00384</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cac74c789881232ef816c9ca0c4b0cb6ff">STRETCH</a>             = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 4,
<a name="l00385"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cadd5de2a575d15db930517db8f38f7721">00385</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cadd5de2a575d15db930517db8f38f7721">TURBULENCE</a>          = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 5,
<a name="l00386"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cae856e073f3f429ff2f1a60afb593dc21">00386</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cae856e073f3f429ff2f1a60afb593dc21">WAVE</a>                = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 6,
<a name="l00387"></a>00387 
<a name="l00388"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cac70a4709a6fb9e60885e0dbabd54ea46">00388</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cac70a4709a6fb9e60885e0dbabd54ea46">IDENTITY</a>            = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 7,
<a name="l00389"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca54af7282d9f86e31f14ffbb2ccb622cc">00389</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca54af7282d9f86e31f14ffbb2ccb622cc">VERTEX</a>              = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 8,
<a name="l00390"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca1dfe27286dadf2eae9f3cdf0018cb466">00390</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca1dfe27286dadf2eae9f3cdf0018cb466">TEXTURE</a>             = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 9,
<a name="l00391"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca4b836829f8142e433297ed5623b8f725">00391</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca4b836829f8142e433297ed5623b8f725">LIGHTMAP</a>            = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 10,
<a name="l00392"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca90807c1b11960cc0903bdcaf11de8a10">00392</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca90807c1b11960cc0903bdcaf11de8a10">ENVIRONMENT</a>         = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 11,
<a name="l00393"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca688583f8f12c7bd20c66fb448b98d811">00393</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca688583f8f12c7bd20c66fb448b98d811">DOLLAR_LIGHTMAP</a>     = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 12,
<a name="l00394"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cae6674fabcd52c6af9a43bf63f6655f7f">00394</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cae6674fabcd52c6af9a43bf63f6655f7f">BULGE</a>               = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 13,
<a name="l00395"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9caf2ad227601c235cd9976f0e97bb5be05">00395</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9caf2ad227601c235cd9976f0e97bb5be05">AUTOSPRITE</a>          = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 14,
<a name="l00396"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca81a1c72ab93c1b736892ff456c1a5e4b">00396</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca81a1c72ab93c1b736892ff456c1a5e4b">AUTOSPRITE2</a>         = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 15,
<a name="l00397"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca0526759a7408308fa57aa33897b76cfe">00397</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca0526759a7408308fa57aa33897b76cfe">TRANSFORM</a>           = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 16,
<a name="l00398"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9caf669a3244c8ee3d3ffdbcb66a5d79773">00398</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9caf669a3244c8ee3d3ffdbcb66a5d79773">EXACTVERTEX</a>         = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 17,
<a name="l00399"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca1c4aa18dfa1d3b6c0ae755b4798abd59">00399</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca1c4aa18dfa1d3b6c0ae755b4798abd59">CONSTANT</a>            = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 18,
<a name="l00400"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca67dfaf93ff35dc601d5f11187fcaeaa6">00400</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca67dfaf93ff35dc601d5f11187fcaeaa6">LIGHTINGSPECULAR</a>    = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 19,
<a name="l00401"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca08d5f0a4077c6ff2a849b69ad28fa12c">00401</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca08d5f0a4077c6ff2a849b69ad28fa12c">MOVE</a>                = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 20,
<a name="l00402"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca799d19502ac77b142a9e72ef05917d74">00402</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca799d19502ac77b142a9e72ef05917d74">NORMAL</a>              = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 21,
<a name="l00403"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9caa8bbd980884e4c3729484b4a435f6a61">00403</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9caa8bbd980884e4c3729484b4a435f6a61">IDENTITYLIGHTING</a>    = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cab7ed1ae5cbdc3904df77ec0471cbed0a">FUNCTION2</a> + 22,
<a name="l00404"></a>00404 
<a name="l00405"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cabc1a47e97e6a7d791c903a49c259f97e">00405</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cabc1a47e97e6a7d791c903a49c259f97e">WAVE_MODIFIER_FUNCTION</a>  = 0x30,
<a name="l00406"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cae2e6b4564f82de69ae61843123508948">00406</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cae2e6b4564f82de69ae61843123508948">SINUS</a>               = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cabc1a47e97e6a7d791c903a49c259f97e">WAVE_MODIFIER_FUNCTION</a> + 1,
<a name="l00407"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cabcd9be06e7c0e762894be81924490d72">00407</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cabcd9be06e7c0e762894be81924490d72">COSINUS</a>             = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cabc1a47e97e6a7d791c903a49c259f97e">WAVE_MODIFIER_FUNCTION</a> + 2,
<a name="l00408"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cac165bd33c5c76049f56357c3ae6093f9">00408</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cac165bd33c5c76049f56357c3ae6093f9">SQUARE</a>              = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cabc1a47e97e6a7d791c903a49c259f97e">WAVE_MODIFIER_FUNCTION</a> + 3,
<a name="l00409"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cad168f6ecf221d68b98803e89a4956277">00409</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cad168f6ecf221d68b98803e89a4956277">TRIANGLE</a>            = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cabc1a47e97e6a7d791c903a49c259f97e">WAVE_MODIFIER_FUNCTION</a> + 4,
<a name="l00410"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cae75f40d8c1b9f3d4455bb01f562044f2">00410</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cae75f40d8c1b9f3d4455bb01f562044f2">SAWTOOTH</a>            = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cabc1a47e97e6a7d791c903a49c259f97e">WAVE_MODIFIER_FUNCTION</a> + 5,
<a name="l00411"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca600515ae20c7b1ca5babab00c7eea81d">00411</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca600515ae20c7b1ca5babab00c7eea81d">SAWTOOTH_INVERSE</a>    = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cabc1a47e97e6a7d791c903a49c259f97e">WAVE_MODIFIER_FUNCTION</a> + 6,
<a name="l00412"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cac139ac195bfde7d4785425a71d54bbdd">00412</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cac139ac195bfde7d4785425a71d54bbdd">NOISE</a>               = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cabc1a47e97e6a7d791c903a49c259f97e">WAVE_MODIFIER_FUNCTION</a> + 7,
<a name="l00413"></a>00413 
<a name="l00414"></a>00414 
<a name="l00415"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca328cfed545304ceba939b5f2c9e66efb">00415</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca328cfed545304ceba939b5f2c9e66efb">UNKNOWN</a>             = -2
<a name="l00416"></a>00416 
<a name="l00417"></a>00417     };
<a name="l00418"></a>00418 
<a name="l00419"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html">00419</a>     <span class="keyword">struct </span><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html">SModifierFunction</a>
<a name="l00420"></a>00420     {
<a name="l00421"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a13f90d3131eace7c3a93504cc96dffe2">00421</a>         <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a13f90d3131eace7c3a93504cc96dffe2">SModifierFunction</a> ()
<a name="l00422"></a>00422             : <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a6a5f54d729d92529612e9069bb9b015a">masterfunc0</a> ( <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca328cfed545304ceba939b5f2c9e66efb">UNKNOWN</a> ), <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a1e410ba6c35875822624ece08d099116">masterfunc1</a>( <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca328cfed545304ceba939b5f2c9e66efb">UNKNOWN</a> ), <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#acef4e9e789a254d897008dbdbad46fd7">func</a> ( <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cae2e6b4564f82de69ae61843123508948">SINUS</a> ),
<a name="l00423"></a>00423             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#ab8156ba5c6039f7cd3d7d9db6abd2505">tcgen</a>( <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca1dfe27286dadf2eae9f3cdf0018cb466">TEXTURE</a> ), <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#aed2dc32413407178705857fc660edea7">rgbgen</a> ( <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cac70a4709a6fb9e60885e0dbabd54ea46">IDENTITY</a> ), <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#ac415fe5f4572d18883d9d3b857827563">alphagen</a> ( <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca328cfed545304ceba939b5f2c9e66efb">UNKNOWN</a> ),
<a name="l00424"></a>00424             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a86be7a1faff652334dda0517344589f5">base</a> ( 0 ), <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#aea298275dbc78a8649d4d689cc4e8e4a">amp</a> ( 1 ), <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a9daabcd1982f694b6f6026ef5d61fbc1">phase</a> ( 0 ), <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#ab6e66f6c5a0a1fe9e2507ee7586874e3">frequency</a> ( 1 ),
<a name="l00425"></a>00425             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a94ffd917ac4fbc8e4ecbc251c7443ba4">wave</a> ( 1 ),
<a name="l00426"></a>00426             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a1e1bdc7861592e8f746731e0e69a10b4">x</a> ( 0 ), <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a713cc886630c5eeadd174997d97b2779">y</a> ( 0 ), <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#add793e5d65e9c15bd265ab6d0b3f001d">z</a>( 0 ), <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#ab4c250a26a94fc8c25bf499bc4ff74bc">count</a>( 0 ) {}
<a name="l00427"></a>00427 
<a name="l00428"></a>00428         <span class="comment">// &quot;tcmod&quot;,&quot;deformvertexes&quot;,&quot;rgbgen&quot;, &quot;tcgen&quot;</span>
<a name="l00429"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a6a5f54d729d92529612e9069bb9b015a">00429</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9c">eQ3ModifierFunction</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a6a5f54d729d92529612e9069bb9b015a">masterfunc0</a>;
<a name="l00430"></a>00430         <span class="comment">// depends</span>
<a name="l00431"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a1e410ba6c35875822624ece08d099116">00431</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9c">eQ3ModifierFunction</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a1e410ba6c35875822624ece08d099116">masterfunc1</a>;
<a name="l00432"></a>00432         <span class="comment">// depends</span>
<a name="l00433"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#acef4e9e789a254d897008dbdbad46fd7">00433</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9c">eQ3ModifierFunction</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#acef4e9e789a254d897008dbdbad46fd7">func</a>;
<a name="l00434"></a>00434 
<a name="l00435"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#ab8156ba5c6039f7cd3d7d9db6abd2505">00435</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9c">eQ3ModifierFunction</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#ab8156ba5c6039f7cd3d7d9db6abd2505">tcgen</a>;
<a name="l00436"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#aed2dc32413407178705857fc660edea7">00436</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9c">eQ3ModifierFunction</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#aed2dc32413407178705857fc660edea7">rgbgen</a>;
<a name="l00437"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#ac415fe5f4572d18883d9d3b857827563">00437</a>         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9c">eQ3ModifierFunction</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#ac415fe5f4572d18883d9d3b857827563">alphagen</a>;
<a name="l00438"></a>00438 
<a name="l00439"></a>00439         <span class="keyword">union</span>
<a name="l00440"></a>00440         {
<a name="l00441"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a86be7a1faff652334dda0517344589f5">00441</a>             <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a86be7a1faff652334dda0517344589f5">base</a>;
<a name="l00442"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a9abe7c1cdb787a772e82a63bc8b476d0">00442</a>             <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a9abe7c1cdb787a772e82a63bc8b476d0">bulgewidth</a>;
<a name="l00443"></a>00443         };
<a name="l00444"></a>00444 
<a name="l00445"></a>00445         <span class="keyword">union</span>
<a name="l00446"></a>00446         {
<a name="l00447"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#aea298275dbc78a8649d4d689cc4e8e4a">00447</a>             <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#aea298275dbc78a8649d4d689cc4e8e4a">amp</a>;
<a name="l00448"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a564ea3b8fac68632e4c82651451722c7">00448</a>             <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a564ea3b8fac68632e4c82651451722c7">bulgeheight</a>;
<a name="l00449"></a>00449         };
<a name="l00450"></a>00450 
<a name="l00451"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a9daabcd1982f694b6f6026ef5d61fbc1">00451</a>         <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a9daabcd1982f694b6f6026ef5d61fbc1">phase</a>;
<a name="l00452"></a>00452 
<a name="l00453"></a>00453         <span class="keyword">union</span>
<a name="l00454"></a>00454         {
<a name="l00455"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#ab6e66f6c5a0a1fe9e2507ee7586874e3">00455</a>             <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#ab6e66f6c5a0a1fe9e2507ee7586874e3">frequency</a>;
<a name="l00456"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a378deb78a132b07acc3bffc141616947">00456</a>             <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a378deb78a132b07acc3bffc141616947">bulgespeed</a>;
<a name="l00457"></a>00457         };
<a name="l00458"></a>00458 
<a name="l00459"></a>00459         <span class="keyword">union</span>
<a name="l00460"></a>00460         {
<a name="l00461"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a94ffd917ac4fbc8e4ecbc251c7443ba4">00461</a>             <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a94ffd917ac4fbc8e4ecbc251c7443ba4">wave</a>;
<a name="l00462"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a2283bc7779296cb5077d8dd7cf2805a7">00462</a>             <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a2283bc7779296cb5077d8dd7cf2805a7">div</a>;
<a name="l00463"></a>00463         };
<a name="l00464"></a>00464 
<a name="l00465"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a1e1bdc7861592e8f746731e0e69a10b4">00465</a>         <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a1e1bdc7861592e8f746731e0e69a10b4">x</a>;
<a name="l00466"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a713cc886630c5eeadd174997d97b2779">00466</a>         <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a713cc886630c5eeadd174997d97b2779">y</a>;
<a name="l00467"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#add793e5d65e9c15bd265ab6d0b3f001d">00467</a>         <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#add793e5d65e9c15bd265ab6d0b3f001d">z</a>;
<a name="l00468"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#ab4c250a26a94fc8c25bf499bc4ff74bc">00468</a>         <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#ab4c250a26a94fc8c25bf499bc4ff74bc">count</a>;
<a name="l00469"></a>00469 
<a name="l00470"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a7ec85b053d06ff7bac491cb9827c1bf9">00470</a>         <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a7ec85b053d06ff7bac491cb9827c1bf9">evaluate</a> ( <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> dt )<span class="keyword"> const</span>
<a name="l00471"></a>00471 <span class="keyword">        </span>{
<a name="l00472"></a>00472             <span class="comment">// phase in 0 and 1..</span>
<a name="l00473"></a>00473             <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a1e1bdc7861592e8f746731e0e69a10b4">x</a> = <a class="code" href="namespaceirr_1_1core.html#adf530866e57502da85e6a1f0c23932a2">core::fract</a>( (dt + <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a9daabcd1982f694b6f6026ef5d61fbc1">phase</a> ) * <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#ab6e66f6c5a0a1fe9e2507ee7586874e3">frequency</a> );
<a name="l00474"></a>00474             <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a713cc886630c5eeadd174997d97b2779">y</a> = 0.f;
<a name="l00475"></a>00475 
<a name="l00476"></a>00476             <span class="keywordflow">switch</span> ( <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#acef4e9e789a254d897008dbdbad46fd7">func</a> )
<a name="l00477"></a>00477             {
<a name="l00478"></a>00478                 <span class="keywordflow">case</span> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cae2e6b4564f82de69ae61843123508948">SINUS</a>:
<a name="l00479"></a>00479                     y = sinf ( x * <a class="code" href="namespaceirr_1_1core.html#a26d877e2caf3e6f31c298a0417a0707e" title="Constant for PI.">core::PI</a> * 2.f );
<a name="l00480"></a>00480                     <span class="keywordflow">break</span>;
<a name="l00481"></a>00481                 <span class="keywordflow">case</span> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cabcd9be06e7c0e762894be81924490d72">COSINUS</a>:
<a name="l00482"></a>00482                     y = cosf ( x * <a class="code" href="namespaceirr_1_1core.html#a26d877e2caf3e6f31c298a0417a0707e" title="Constant for PI.">core::PI</a> * 2.f );
<a name="l00483"></a>00483                     <span class="keywordflow">break</span>;
<a name="l00484"></a>00484                 <span class="keywordflow">case</span> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cac165bd33c5c76049f56357c3ae6093f9">SQUARE</a>:
<a name="l00485"></a>00485                     y = x &lt; 0.5f ? 1.f : -1.f;
<a name="l00486"></a>00486                     <span class="keywordflow">break</span>;
<a name="l00487"></a>00487                 <span class="keywordflow">case</span> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cad168f6ecf221d68b98803e89a4956277">TRIANGLE</a>:
<a name="l00488"></a>00488                     y = x &lt; 0.5f ? ( 4.f * <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a1e1bdc7861592e8f746731e0e69a10b4">x</a> ) - 1.f : ( -4.f * x ) + 3.f;
<a name="l00489"></a>00489                     <span class="keywordflow">break</span>;
<a name="l00490"></a>00490                 <span class="keywordflow">case</span> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cae75f40d8c1b9f3d4455bb01f562044f2">SAWTOOTH</a>:
<a name="l00491"></a>00491                     y = <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a1e1bdc7861592e8f746731e0e69a10b4">x</a>;
<a name="l00492"></a>00492                     <span class="keywordflow">break</span>;
<a name="l00493"></a>00493                 <span class="keywordflow">case</span> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca600515ae20c7b1ca5babab00c7eea81d">SAWTOOTH_INVERSE</a>:
<a name="l00494"></a>00494                     y = 1.f - <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a1e1bdc7861592e8f746731e0e69a10b4">x</a>;
<a name="l00495"></a>00495                     <span class="keywordflow">break</span>;
<a name="l00496"></a>00496                 <span class="keywordflow">case</span> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cac139ac195bfde7d4785425a71d54bbdd">NOISE</a>:
<a name="l00497"></a>00497                     y = <a class="code" href="structirr_1_1scene_1_1quake3_1_1_noiser.html#a29ccb50537e0fb7e3a883a8729de64ca">Noiser::get</a>();
<a name="l00498"></a>00498                     <span class="keywordflow">break</span>;
<a name="l00499"></a>00499                 <span class="keywordflow">default</span>:
<a name="l00500"></a>00500                     <span class="keywordflow">break</span>;
<a name="l00501"></a>00501             }
<a name="l00502"></a>00502 
<a name="l00503"></a>00503             <span class="keywordflow">return</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a86be7a1faff652334dda0517344589f5">base</a> + ( y * <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#aea298275dbc78a8649d4d689cc4e8e4a">amp</a> );
<a name="l00504"></a>00504         }
<a name="l00505"></a>00505 
<a name="l00506"></a>00506 
<a name="l00507"></a>00507     };
<a name="l00508"></a>00508 
<a name="l00509"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a2063b09e4a122270008bb10c4c13e5fe">00509</a>     <span class="keyword">inline</span> <a class="code" href="classirr_1_1core_1_1vector3d.html">core::vector3df</a> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a2063b09e4a122270008bb10c4c13e5fe">getMD3Normal</a> ( <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> i, <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> j )
<a name="l00510"></a>00510     {
<a name="l00511"></a>00511         <span class="keyword">const</span> <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> lng = i * 2.0f * <a class="code" href="namespaceirr_1_1core.html#a26d877e2caf3e6f31c298a0417a0707e" title="Constant for PI.">core::PI</a> / 255.0f;
<a name="l00512"></a>00512         <span class="keyword">const</span> <a class="code" href="namespaceirr.html#a0277be98d67dc26ff93b1a6a1d086b07" title="32 bit floating point variable.">f32</a> lat = j * 2.0f * <a class="code" href="namespaceirr_1_1core.html#a26d877e2caf3e6f31c298a0417a0707e" title="Constant for PI.">core::PI</a> / 255.0f;
<a name="l00513"></a>00513         <span class="keywordflow">return</span> <a class="code" href="namespaceirr_1_1core.html#a06f169d08b5c429f5575acb7edbad811" title="Typedef for a f32 3d vector.">core::vector3df</a>(cosf ( lat ) * sinf ( lng ),
<a name="l00514"></a>00514                 sinf ( lat ) * sinf ( lng ),
<a name="l00515"></a>00515                 cosf ( lng ));
<a name="l00516"></a>00516     }
<a name="l00517"></a>00517 
<a name="l00518"></a>00518     <span class="comment">//</span>
<a name="l00519"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#ab59ba2d88dbbba77dbc5f98cc78848af">00519</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#ab59ba2d88dbbba77dbc5f98cc78848af">getModifierFunc</a> ( <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html">SModifierFunction</a>&amp; fill, <span class="keyword">const</span> <a class="code" href="classirr_1_1core_1_1string.html">core::stringc</a> &amp;<span class="keywordtype">string</span>, <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> &amp;pos )
<a name="l00520"></a>00520     {
<a name="l00521"></a>00521         <span class="keywordflow">if</span> ( <span class="keywordtype">string</span>.size() == 0 )
<a name="l00522"></a>00522             <span class="keywordflow">return</span>;
<a name="l00523"></a>00523 
<a name="l00524"></a>00524         <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespaceirr.html#a9395eaea339bcb546b319e9c96bf7410" title="8 bit character variable.">c8</a> * funclist[] =
<a name="l00525"></a>00525         {
<a name="l00526"></a>00526             <span class="stringliteral">&quot;sin&quot;</span>,<span class="stringliteral">&quot;cos&quot;</span>,<span class="stringliteral">&quot;square&quot;</span>,
<a name="l00527"></a>00527             <span class="stringliteral">&quot;triangle&quot;</span>, <span class="stringliteral">&quot;sawtooth&quot;</span>,<span class="stringliteral">&quot;inversesawtooth&quot;</span>, <span class="stringliteral">&quot;noise&quot;</span>
<a name="l00528"></a>00528         };
<a name="l00529"></a>00529 
<a name="l00530"></a>00530         fill.<a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#acef4e9e789a254d897008dbdbad46fd7">func</a> = (<a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9c">eQ3ModifierFunction</a>) <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a3d99d316c147cbd82f32311a1c9e9edb">isEqual</a> ( <span class="keywordtype">string</span>,pos, funclist,7 );
<a name="l00531"></a>00531         fill.<a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#acef4e9e789a254d897008dbdbad46fd7">func</a> = fill.<a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#acef4e9e789a254d897008dbdbad46fd7">func</a> == <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9ca328cfed545304ceba939b5f2c9e66efb">UNKNOWN</a> ? <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cae2e6b4564f82de69ae61843123508948">SINUS</a> : (<a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9c">eQ3ModifierFunction</a>) ((<a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a>) fill.<a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#acef4e9e789a254d897008dbdbad46fd7">func</a> + <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a504f56c895e8c5fb1924037b21bafd9cabc1a47e97e6a7d791c903a49c259f97e">WAVE_MODIFIER_FUNCTION</a> + 1);
<a name="l00532"></a>00532 
<a name="l00533"></a>00533         fill.<a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a86be7a1faff652334dda0517344589f5">base</a> = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#adca7fb6948f37384aca94a4c9ac73f14">getAsFloat</a> ( <span class="keywordtype">string</span>, pos );
<a name="l00534"></a>00534         fill.<a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#aea298275dbc78a8649d4d689cc4e8e4a">amp</a> = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#adca7fb6948f37384aca94a4c9ac73f14">getAsFloat</a> ( <span class="keywordtype">string</span>, pos );
<a name="l00535"></a>00535         fill.<a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#a9daabcd1982f694b6f6026ef5d61fbc1">phase</a> = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#adca7fb6948f37384aca94a4c9ac73f14">getAsFloat</a> ( <span class="keywordtype">string</span>, pos );
<a name="l00536"></a>00536         fill.<a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_modifier_function.html#ab6e66f6c5a0a1fe9e2507ee7586874e3">frequency</a> = <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#adca7fb6948f37384aca94a4c9ac73f14">getAsFloat</a> ( <span class="keywordtype">string</span>, pos );
<a name="l00537"></a>00537     }
<a name="l00538"></a>00538 
<a name="l00539"></a>00539 
<a name="l00540"></a>00540     <span class="comment">// name = &quot;a b c ..&quot;</span>
<a name="l00541"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html">00541</a>     <span class="keyword">struct </span><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html">SVariable</a>
<a name="l00542"></a>00542     {
<a name="l00543"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#afdb293a372aac8ce70efb624e785ea3c">00543</a>         <a class="code" href="classirr_1_1core_1_1string.html">core::stringc</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#afdb293a372aac8ce70efb624e785ea3c">name</a>;
<a name="l00544"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#aad72c371e07df502419f7b19ec4ee4f2">00544</a>         <a class="code" href="classirr_1_1core_1_1string.html">core::stringc</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#aad72c371e07df502419f7b19ec4ee4f2">content</a>;
<a name="l00545"></a>00545 
<a name="l00546"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#a30e6e1ecbb0646aa4d71b0a16b1d88d7">00546</a>         <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#a30e6e1ecbb0646aa4d71b0a16b1d88d7">SVariable</a> ( <span class="keyword">const</span> <a class="code" href="namespaceirr.html#a9395eaea339bcb546b319e9c96bf7410" title="8 bit character variable.">c8</a> * n, <span class="keyword">const</span> <a class="code" href="namespaceirr.html#a9395eaea339bcb546b319e9c96bf7410" title="8 bit character variable.">c8</a> *c = 0 ) : <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#afdb293a372aac8ce70efb624e785ea3c">name</a> ( n ), <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#aad72c371e07df502419f7b19ec4ee4f2">content</a> (c) {}
<a name="l00547"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#a885dcf03b21f86433340ad6fcbdc9de9">00547</a>         <span class="keyword">virtual</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#a885dcf03b21f86433340ad6fcbdc9de9">~SVariable</a> () {}
<a name="l00548"></a>00548 
<a name="l00549"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#a32dbf0cd7cd2b32d9647ede5b95cb13d">00549</a>         <span class="keywordtype">void</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#a32dbf0cd7cd2b32d9647ede5b95cb13d">clear</a> ()
<a name="l00550"></a>00550         {
<a name="l00551"></a>00551             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#afdb293a372aac8ce70efb624e785ea3c">name</a> = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00552"></a>00552             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#aad72c371e07df502419f7b19ec4ee4f2">content</a> = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00553"></a>00553         }
<a name="l00554"></a>00554 
<a name="l00555"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#ac78acdc49c20d5a608e2e9c88bf210c0">00555</a>         <a class="code" href="namespaceirr.html#ac66849b7a6ed16e30ebede579f9b47c6" title="32 bit signed variable.">s32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#ac78acdc49c20d5a608e2e9c88bf210c0">isValid</a> ()<span class="keyword"> const</span>
<a name="l00556"></a>00556 <span class="keyword">        </span>{
<a name="l00557"></a>00557             <span class="keywordflow">return</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#afdb293a372aac8ce70efb624e785ea3c">name</a>.<a class="code" href="classirr_1_1core_1_1string.html#a062f23675d892012c7e8d5d4e92ecd00" title="Returns length of the string&#39;s content.">size</a>();
<a name="l00558"></a>00558         }
<a name="l00559"></a>00559 
<a name="l00560"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#a0dcc197457ad641f399b8e528c080350">00560</a>         <span class="keywordtype">bool</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#a0dcc197457ad641f399b8e528c080350">operator == </a>( <span class="keyword">const</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html">SVariable</a> &amp;other )<span class="keyword"> const</span>
<a name="l00561"></a>00561 <span class="keyword">        </span>{
<a name="l00562"></a>00562             <span class="keywordflow">return</span> 0 == strcmp ( <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#afdb293a372aac8ce70efb624e785ea3c">name</a>.<a class="code" href="classirr_1_1core_1_1string.html#a4abad222c478c108096ee9297870068c" title="Returns character string.">c_str</a>(), other.<a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#afdb293a372aac8ce70efb624e785ea3c">name</a>.<a class="code" href="classirr_1_1core_1_1string.html#a4abad222c478c108096ee9297870068c" title="Returns character string.">c_str</a> () );
<a name="l00563"></a>00563         }
<a name="l00564"></a>00564 
<a name="l00565"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#aadb8a855c4cd0055b90bc03263daf093">00565</a>         <span class="keywordtype">bool</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#aadb8a855c4cd0055b90bc03263daf093">operator &lt; </a>( <span class="keyword">const</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html">SVariable</a> &amp;other )<span class="keyword"> const</span>
<a name="l00566"></a>00566 <span class="keyword">        </span>{
<a name="l00567"></a>00567             <span class="keywordflow">return</span> 0 &gt; strcmp ( <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#afdb293a372aac8ce70efb624e785ea3c">name</a>.<a class="code" href="classirr_1_1core_1_1string.html#a4abad222c478c108096ee9297870068c" title="Returns character string.">c_str</a>(), other.<a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html#afdb293a372aac8ce70efb624e785ea3c">name</a>.<a class="code" href="classirr_1_1core_1_1string.html#a4abad222c478c108096ee9297870068c" title="Returns character string.">c_str</a> () );
<a name="l00568"></a>00568         }
<a name="l00569"></a>00569 
<a name="l00570"></a>00570     };
<a name="l00571"></a>00571 
<a name="l00572"></a>00572 
<a name="l00573"></a>00573     <span class="comment">// string database. &quot;a&quot; = &quot;Hello&quot;, &quot;b&quot; = &quot;1234.6&quot;</span>
<a name="l00574"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html">00574</a>     <span class="keyword">struct </span><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html">SVarGroup</a>
<a name="l00575"></a>00575     {
<a name="l00576"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#a9d421e412cb1fe2a34611218cef0c816">00576</a>         <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#a9d421e412cb1fe2a34611218cef0c816">SVarGroup</a> () { <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#af08747ade63bc3ca68713c81638ad686">Variable</a>.<a class="code" href="classirr_1_1core_1_1array.html#a7aef3e5dbf91f8d1e8f365039e2497ae" title="set a new allocation strategy">setAllocStrategy</a> ( <a class="code" href="namespaceirr_1_1core.html#aa2e91971d5e6e84de235bfabe3c7adbaabfc6be96075564e1e0d92477e657f746">core::ALLOC_STRATEGY_SAFE</a> ); }
<a name="l00577"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#a84869e8afc177838d2d8f03395beb25c">00577</a>         <span class="keyword">virtual</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#a84869e8afc177838d2d8f03395beb25c">~SVarGroup</a> () {}
<a name="l00578"></a>00578 
<a name="l00579"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#a9e22b49af48d1b24390831914c0a979d">00579</a>         <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#a9e22b49af48d1b24390831914c0a979d">isDefined</a> ( <span class="keyword">const</span> <a class="code" href="namespaceirr.html#a9395eaea339bcb546b319e9c96bf7410" title="8 bit character variable.">c8</a> * name, <span class="keyword">const</span> <a class="code" href="namespaceirr.html#a9395eaea339bcb546b319e9c96bf7410" title="8 bit character variable.">c8</a> * content = 0 )<span class="keyword"> const</span>
<a name="l00580"></a>00580 <span class="keyword">        </span>{
<a name="l00581"></a>00581             <span class="keywordflow">for</span> ( <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> i = 0; i != <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#af08747ade63bc3ca68713c81638ad686">Variable</a>.<a class="code" href="classirr_1_1core_1_1array.html#abc592bab637d54799b6c86d6d0e8adf8" title="Get number of occupied elements of the array.">size</a> (); ++i )
<a name="l00582"></a>00582             {
<a name="l00583"></a>00583                 <span class="keywordflow">if</span> ( 0 == strcmp ( <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#af08747ade63bc3ca68713c81638ad686">Variable</a>[i].name.c_str(), name ) &amp;&amp;
<a name="l00584"></a>00584                     (  0 == content || strstr ( <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#af08747ade63bc3ca68713c81638ad686">Variable</a>[i].content.c_str(), content ) )
<a name="l00585"></a>00585                     )
<a name="l00586"></a>00586                 {
<a name="l00587"></a>00587                     <span class="keywordflow">return</span> i + 1;
<a name="l00588"></a>00588                 }
<a name="l00589"></a>00589             }
<a name="l00590"></a>00590             <span class="keywordflow">return</span> 0;
<a name="l00591"></a>00591         }
<a name="l00592"></a>00592 
<a name="l00593"></a>00593         <span class="comment">// searches for Variable name and returns is content</span>
<a name="l00594"></a>00594         <span class="comment">// if Variable is not found a reference to an Empty String is returned</span>
<a name="l00595"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#ab284d9780320113fadc6013158cd5f36">00595</a>         <span class="keyword">const</span> <a class="code" href="classirr_1_1core_1_1string.html">core::stringc</a> &amp;<span class="keyword">get</span>( <span class="keyword">const</span> <a class="code" href="namespaceirr.html#a9395eaea339bcb546b319e9c96bf7410" title="8 bit character variable.">c8</a> * name ) <span class="keyword">const</span>
<a name="l00596"></a>00596         {
<a name="l00597"></a>00597             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html">SVariable</a> search ( name );
<a name="l00598"></a>00598             <a class="code" href="namespaceirr.html#ac66849b7a6ed16e30ebede579f9b47c6" title="32 bit signed variable.">s32</a> index = <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#af08747ade63bc3ca68713c81638ad686">Variable</a>.<a class="code" href="classirr_1_1core_1_1array.html#a06327f3b1a87117a57a617cbb7738beb" title="Finds an element in linear time, which is very slow.">linear_search</a> ( search );
<a name="l00599"></a>00599             <span class="keywordflow">if</span> ( index &lt; 0 )
<a name="l00600"></a>00600                 <span class="keywordflow">return</span> irrEmptyStringc;
<a name="l00601"></a>00601 
<a name="l00602"></a>00602             <span class="keywordflow">return</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#af08747ade63bc3ca68713c81638ad686">Variable</a> [ index ].content;
<a name="l00603"></a>00603         }
<a name="l00604"></a>00604 
<a name="l00605"></a>00605         <span class="comment">// set the Variable name</span>
<a name="l00606"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#ac6245339669317d6160a84a321c7c21f">00606</a>         <span class="keywordtype">void</span> <span class="keyword">set</span> ( <span class="keyword">const</span> <a class="code" href="namespaceirr.html#a9395eaea339bcb546b319e9c96bf7410" title="8 bit character variable.">c8</a> * name, <span class="keyword">const</span> <a class="code" href="namespaceirr.html#a9395eaea339bcb546b319e9c96bf7410" title="8 bit character variable.">c8</a> * content = 0 )
<a name="l00607"></a>00607         {
<a name="l00608"></a>00608             <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> index = <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#a9e22b49af48d1b24390831914c0a979d">isDefined</a> ( name, 0 );
<a name="l00609"></a>00609             <span class="keywordflow">if</span> ( 0 == index )
<a name="l00610"></a>00610             {
<a name="l00611"></a>00611                 <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#af08747ade63bc3ca68713c81638ad686">Variable</a>.<a class="code" href="classirr_1_1core_1_1array.html#ad2c9dff8592b95c25c59f5383fc633fe" title="Adds an element at back of array.">push_back</a> ( <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_variable.html">SVariable</a> ( name, content ) );
<a name="l00612"></a>00612             }
<a name="l00613"></a>00613             <span class="keywordflow">else</span>
<a name="l00614"></a>00614             {
<a name="l00615"></a>00615                 <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#af08747ade63bc3ca68713c81638ad686">Variable</a> [ index ].content = content;
<a name="l00616"></a>00616             }
<a name="l00617"></a>00617         }
<a name="l00618"></a>00618 
<a name="l00619"></a>00619 
<a name="l00620"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#af08747ade63bc3ca68713c81638ad686">00620</a>         <a class="code" href="classirr_1_1core_1_1array.html">core::array &lt; SVariable &gt;</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#af08747ade63bc3ca68713c81638ad686">Variable</a>;
<a name="l00621"></a>00621     };
<a name="l00622"></a>00622 
<a name="l00624"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group_list.html">00624</a>     <span class="keyword">struct </span><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group_list.html" title="holding a group a variable">SVarGroupList</a>: <span class="keyword">public</span> <a class="code" href="classirr_1_1_i_reference_counted.html" title="Base class of most objects of the Irrlicht Engine.">IReferenceCounted</a>
<a name="l00625"></a>00625     {
<a name="l00626"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group_list.html#a50e3aefd7ff094f9e8a5db9030ee131e">00626</a>         <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group_list.html#a50e3aefd7ff094f9e8a5db9030ee131e">SVarGroupList</a> ()
<a name="l00627"></a>00627         {
<a name="l00628"></a>00628             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group_list.html#a74fd74e2fba4fd7bd4364cf463f69752">VariableGroup</a>.<a class="code" href="classirr_1_1core_1_1array.html#a7aef3e5dbf91f8d1e8f365039e2497ae" title="set a new allocation strategy">setAllocStrategy</a> ( <a class="code" href="namespaceirr_1_1core.html#aa2e91971d5e6e84de235bfabe3c7adbaabfc6be96075564e1e0d92477e657f746">core::ALLOC_STRATEGY_SAFE</a> );
<a name="l00629"></a>00629         }
<a name="l00630"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group_list.html#ac0664093c3b95094ef4c0b548a5c085a">00630</a>         <span class="keyword">virtual</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group_list.html#ac0664093c3b95094ef4c0b548a5c085a">~SVarGroupList</a> () {}
<a name="l00631"></a>00631 
<a name="l00632"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group_list.html#a74fd74e2fba4fd7bd4364cf463f69752">00632</a>         <a class="code" href="classirr_1_1core_1_1array.html">core::array &lt; SVarGroup &gt;</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group_list.html#a74fd74e2fba4fd7bd4364cf463f69752">VariableGroup</a>;
<a name="l00633"></a>00633     };
<a name="l00634"></a>00634 
<a name="l00635"></a>00635 
<a name="l00637"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html">00637</a>     <span class="keyword">struct </span><a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html" title="A Parsed Shader Holding Variables ordered in Groups.">IShader</a>
<a name="l00638"></a>00638     {
<a name="l00639"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#ac6f55608afaa395ac45e9963e3f72932">00639</a>         <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#ac6f55608afaa395ac45e9963e3f72932">IShader</a> ()
<a name="l00640"></a>00640             : <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a5ab9a652ea9719bd94437876bf6c8bb4">ID</a> ( 0 ), <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a874bb594c148e7aed177b79ce5c85362">VarGroup</a> ( 0 )  {}
<a name="l00641"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#ac2b09ca200765652543c5bdcc1a41da2">00641</a>         <span class="keyword">virtual</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#ac2b09ca200765652543c5bdcc1a41da2">~IShader</a> () {}
<a name="l00642"></a>00642 
<a name="l00643"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#af295696f6ee3b36cde6112e684041a4c">00643</a>         <span class="keywordtype">void</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#af295696f6ee3b36cde6112e684041a4c">operator = </a>(<span class="keyword">const</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html" title="A Parsed Shader Holding Variables ordered in Groups.">IShader</a> &amp;other )
<a name="l00644"></a>00644         {
<a name="l00645"></a>00645             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a5ab9a652ea9719bd94437876bf6c8bb4">ID</a> = other.<a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a5ab9a652ea9719bd94437876bf6c8bb4">ID</a>;
<a name="l00646"></a>00646             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a874bb594c148e7aed177b79ce5c85362">VarGroup</a> = other.<a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a874bb594c148e7aed177b79ce5c85362">VarGroup</a>;
<a name="l00647"></a>00647             <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a583a33b3a69ee2047c14d60dad147862">name</a> = other.<a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a583a33b3a69ee2047c14d60dad147862">name</a>;
<a name="l00648"></a>00648         }
<a name="l00649"></a>00649 
<a name="l00650"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#af656ec5925b2e612117f23b433b9acc9">00650</a>         <span class="keywordtype">bool</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#af656ec5925b2e612117f23b433b9acc9">operator == </a>(<span class="keyword">const</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html" title="A Parsed Shader Holding Variables ordered in Groups.">IShader</a> &amp;other )<span class="keyword"> const</span>
<a name="l00651"></a>00651 <span class="keyword">        </span>{
<a name="l00652"></a>00652             <span class="keywordflow">return</span> 0 == strcmp ( <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a583a33b3a69ee2047c14d60dad147862">name</a>.<a class="code" href="classirr_1_1core_1_1string.html#a4abad222c478c108096ee9297870068c" title="Returns character string.">c_str</a>(), other.<a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a583a33b3a69ee2047c14d60dad147862">name</a>.<a class="code" href="classirr_1_1core_1_1string.html#a4abad222c478c108096ee9297870068c" title="Returns character string.">c_str</a> () );
<a name="l00653"></a>00653             <span class="comment">//return name == other.name;</span>
<a name="l00654"></a>00654         }
<a name="l00655"></a>00655 
<a name="l00656"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#ad8d5e2e7a52e060f33dbf42a3cfd99e3">00656</a>         <span class="keywordtype">bool</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#ad8d5e2e7a52e060f33dbf42a3cfd99e3">operator &lt; </a>(<span class="keyword">const</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html" title="A Parsed Shader Holding Variables ordered in Groups.">IShader</a> &amp;other )<span class="keyword"> const</span>
<a name="l00657"></a>00657 <span class="keyword">        </span>{
<a name="l00658"></a>00658             <span class="keywordflow">return</span> strcmp ( <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a583a33b3a69ee2047c14d60dad147862">name</a>.<a class="code" href="classirr_1_1core_1_1string.html#a4abad222c478c108096ee9297870068c" title="Returns character string.">c_str</a>(), other.<a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a583a33b3a69ee2047c14d60dad147862">name</a>.<a class="code" href="classirr_1_1core_1_1string.html#a4abad222c478c108096ee9297870068c" title="Returns character string.">c_str</a> () ) &lt; 0;
<a name="l00659"></a>00659             <span class="comment">//return name &lt; other.name;</span>
<a name="l00660"></a>00660         }
<a name="l00661"></a>00661 
<a name="l00662"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a85179cfb96f1d3e2b648054510172360">00662</a>         <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a85179cfb96f1d3e2b648054510172360">getGroupSize</a> ()<span class="keyword"> const</span>
<a name="l00663"></a>00663 <span class="keyword">        </span>{
<a name="l00664"></a>00664             <span class="keywordflow">if</span> ( 0 == <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a874bb594c148e7aed177b79ce5c85362">VarGroup</a> )
<a name="l00665"></a>00665                 <span class="keywordflow">return</span> 0;
<a name="l00666"></a>00666             <span class="keywordflow">return</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a874bb594c148e7aed177b79ce5c85362">VarGroup</a>-&gt;<a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group_list.html#a74fd74e2fba4fd7bd4364cf463f69752">VariableGroup</a>.<a class="code" href="classirr_1_1core_1_1array.html#abc592bab637d54799b6c86d6d0e8adf8" title="Get number of occupied elements of the array.">size</a> ();
<a name="l00667"></a>00667         }
<a name="l00668"></a>00668 
<a name="l00669"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a1a4f3fea074e734337362017d69dd459">00669</a>         <span class="keyword">const</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html">SVarGroup</a> * <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a1a4f3fea074e734337362017d69dd459">getGroup</a> ( <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> stage )<span class="keyword"> const</span>
<a name="l00670"></a>00670 <span class="keyword">        </span>{
<a name="l00671"></a>00671             <span class="keywordflow">if</span> ( 0 == <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a874bb594c148e7aed177b79ce5c85362">VarGroup</a> || stage &gt;= <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a874bb594c148e7aed177b79ce5c85362">VarGroup</a>-&gt;<a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group_list.html#a74fd74e2fba4fd7bd4364cf463f69752">VariableGroup</a>.<a class="code" href="classirr_1_1core_1_1array.html#abc592bab637d54799b6c86d6d0e8adf8" title="Get number of occupied elements of the array.">size</a> () )
<a name="l00672"></a>00672                 <span class="keywordflow">return</span> 0;
<a name="l00673"></a>00673 
<a name="l00674"></a>00674             <span class="keywordflow">return</span> &amp;<a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a874bb594c148e7aed177b79ce5c85362">VarGroup</a>-&gt;<a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group_list.html#a74fd74e2fba4fd7bd4364cf463f69752">VariableGroup</a> [ stage ];
<a name="l00675"></a>00675         }
<a name="l00676"></a>00676 
<a name="l00677"></a>00677         <span class="comment">// id</span>
<a name="l00678"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a5ab9a652ea9719bd94437876bf6c8bb4">00678</a>         <a class="code" href="namespaceirr.html#ac66849b7a6ed16e30ebede579f9b47c6" title="32 bit signed variable.">s32</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a5ab9a652ea9719bd94437876bf6c8bb4">ID</a>;
<a name="l00679"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a874bb594c148e7aed177b79ce5c85362">00679</a>         <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group_list.html" title="holding a group a variable">SVarGroupList</a> *<a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a874bb594c148e7aed177b79ce5c85362">VarGroup</a>; <span class="comment">// reference</span>
<a name="l00680"></a>00680 
<a name="l00681"></a>00681         <span class="comment">// Shader: shader name ( also first variable in first Vargroup )</span>
<a name="l00682"></a>00682         <span class="comment">// Entity: classname ( variable in Group(1) )</span>
<a name="l00683"></a><a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a583a33b3a69ee2047c14d60dad147862">00683</a>         <a class="code" href="classirr_1_1core_1_1string.html">core::stringc</a> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a583a33b3a69ee2047c14d60dad147862">name</a>;
<a name="l00684"></a>00684     };
<a name="l00685"></a>00685 
<a name="l00686"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a93ed78aeb11a2a7e8f8ae9b99801aba7">00686</a>     <span class="keyword">typedef</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html" title="A Parsed Shader Holding Variables ordered in Groups.">IShader</a> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a93ed78aeb11a2a7e8f8ae9b99801aba7">IEntity</a>;
<a name="l00687"></a>00687 
<a name="l00688"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a312f35a37540d810fcb14b75fd449c9e">00688</a>     <span class="keyword">typedef</span> <a class="code" href="classirr_1_1core_1_1array.html" title="Self reallocating template array (like stl vector) with additional features.">core::array &lt; IEntity &gt;</a> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a312f35a37540d810fcb14b75fd449c9e">tQ3EntityList</a>;
<a name="l00689"></a>00689 
<a name="l00690"></a>00690     <span class="comment">/*</span>
<a name="l00691"></a>00691 <span class="comment">        dump shader like original layout, regardless of internal data holding</span>
<a name="l00692"></a>00692 <span class="comment">        no recursive folding..</span>
<a name="l00693"></a>00693 <span class="comment">    */</span>
<a name="l00694"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#aaf7dcb617a1f8821ad19752cfdb36e02">00694</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#aaf7dcb617a1f8821ad19752cfdb36e02">dumpVarGroup</a> ( <a class="code" href="classirr_1_1core_1_1string.html">core::stringc</a> &amp;dest, <span class="keyword">const</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html">SVarGroup</a> * group, <a class="code" href="namespaceirr.html#ac66849b7a6ed16e30ebede579f9b47c6" title="32 bit signed variable.">s32</a> stack )
<a name="l00695"></a>00695     {
<a name="l00696"></a>00696         <a class="code" href="classirr_1_1core_1_1string.html">core::stringc</a> buf;
<a name="l00697"></a>00697         <a class="code" href="namespaceirr.html#ac66849b7a6ed16e30ebede579f9b47c6" title="32 bit signed variable.">s32</a> i;
<a name="l00698"></a>00698 
<a name="l00699"></a>00699 
<a name="l00700"></a>00700         <span class="keywordflow">if</span> ( stack &gt; 0 )
<a name="l00701"></a>00701         {
<a name="l00702"></a>00702             buf = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00703"></a>00703             <span class="keywordflow">for</span> ( i = 0; i &lt; stack - 1; ++i )
<a name="l00704"></a>00704                 buf += <span class="charliteral">&#39;\t&#39;</span>;
<a name="l00705"></a>00705 
<a name="l00706"></a>00706             buf += <span class="stringliteral">&quot;{\n&quot;</span>;
<a name="l00707"></a>00707             dest.<a class="code" href="classirr_1_1core_1_1string.html#ab0074e616978fceeee4e16abcdb4b921" title="Appends a character to this string.">append</a> ( buf );
<a name="l00708"></a>00708         }
<a name="l00709"></a>00709 
<a name="l00710"></a>00710         <span class="keywordflow">for</span> ( <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> g = 0; g != group-&gt;<a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#af08747ade63bc3ca68713c81638ad686">Variable</a>.<a class="code" href="classirr_1_1core_1_1array.html#abc592bab637d54799b6c86d6d0e8adf8" title="Get number of occupied elements of the array.">size</a>(); ++g )
<a name="l00711"></a>00711         {
<a name="l00712"></a>00712             buf = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00713"></a>00713             <span class="keywordflow">for</span> ( i = 0; i &lt; stack; ++i )
<a name="l00714"></a>00714                 buf += <span class="charliteral">&#39;\t&#39;</span>;
<a name="l00715"></a>00715 
<a name="l00716"></a>00716             buf += group-&gt;<a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#af08747ade63bc3ca68713c81638ad686">Variable</a>[g].name;
<a name="l00717"></a>00717             buf += <span class="stringliteral">&quot; &quot;</span>;
<a name="l00718"></a>00718             buf += group-&gt;<a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html#af08747ade63bc3ca68713c81638ad686">Variable</a>[g].content;
<a name="l00719"></a>00719             buf += <span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00720"></a>00720             dest.<a class="code" href="classirr_1_1core_1_1string.html#ab0074e616978fceeee4e16abcdb4b921" title="Appends a character to this string.">append</a> ( buf );
<a name="l00721"></a>00721         }
<a name="l00722"></a>00722 
<a name="l00723"></a>00723         <span class="keywordflow">if</span> ( stack &gt; 1 )
<a name="l00724"></a>00724         {
<a name="l00725"></a>00725             buf = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00726"></a>00726             <span class="keywordflow">for</span> ( i = 0; i &lt; stack - 1; ++i )
<a name="l00727"></a>00727                 buf += <span class="charliteral">&#39;\t&#39;</span>;
<a name="l00728"></a>00728 
<a name="l00729"></a>00729             buf += <span class="stringliteral">&quot;}\n&quot;</span>;
<a name="l00730"></a>00730             dest.<a class="code" href="classirr_1_1core_1_1string.html#ab0074e616978fceeee4e16abcdb4b921" title="Appends a character to this string.">append</a> ( buf );
<a name="l00731"></a>00731         }
<a name="l00732"></a>00732 
<a name="l00733"></a>00733     }
<a name="l00734"></a>00734 
<a name="l00738"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a611e0294510751cc156cb24f222b7180">00738</a>     <span class="keyword">inline</span> <a class="code" href="classirr_1_1core_1_1string.html">core::stringc</a> &amp; <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a611e0294510751cc156cb24f222b7180">dumpShader</a> ( <a class="code" href="classirr_1_1core_1_1string.html">core::stringc</a> &amp;dest, <span class="keyword">const</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html" title="A Parsed Shader Holding Variables ordered in Groups.">IShader</a> * shader, <span class="keywordtype">bool</span> entity = <span class="keyword">false</span> )
<a name="l00739"></a>00739     {
<a name="l00740"></a>00740         <span class="keywordflow">if</span> ( 0 == shader )
<a name="l00741"></a>00741             <span class="keywordflow">return</span> dest;
<a name="l00742"></a>00742 
<a name="l00743"></a>00743         <span class="keyword">const</span> <a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group.html">SVarGroup</a> * group;
<a name="l00744"></a>00744 
<a name="l00745"></a>00745         <span class="keyword">const</span> <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> size = shader-&gt;<a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a874bb594c148e7aed177b79ce5c85362">VarGroup</a>-&gt;<a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group_list.html#a74fd74e2fba4fd7bd4364cf463f69752">VariableGroup</a>.<a class="code" href="classirr_1_1core_1_1array.html#abc592bab637d54799b6c86d6d0e8adf8" title="Get number of occupied elements of the array.">size</a> ();
<a name="l00746"></a>00746         <span class="keywordflow">for</span> ( <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> i = 0; i != size; ++i )
<a name="l00747"></a>00747         {
<a name="l00748"></a>00748             group = &amp;shader-&gt;<a class="code" href="structirr_1_1scene_1_1quake3_1_1_i_shader.html#a874bb594c148e7aed177b79ce5c85362">VarGroup</a>-&gt;<a class="code" href="structirr_1_1scene_1_1quake3_1_1_s_var_group_list.html#a74fd74e2fba4fd7bd4364cf463f69752">VariableGroup</a>[ i ];
<a name="l00749"></a>00749             <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#aaf7dcb617a1f8821ad19752cfdb36e02">dumpVarGroup</a> ( dest, group, <a class="code" href="namespaceirr_1_1core.html#a6162f685b68f629e77336081d3316969" title="clamps a value between low and high">core::clamp</a>( (<span class="keywordtype">int</span>)i, 0, 2 ) );
<a name="l00750"></a>00750         }
<a name="l00751"></a>00751 
<a name="l00752"></a>00752         <span class="keywordflow">if</span> ( !entity )
<a name="l00753"></a>00753         {
<a name="l00754"></a>00754             <span class="keywordflow">if</span> ( size &lt;= 1 )
<a name="l00755"></a>00755             {
<a name="l00756"></a>00756                 dest.<a class="code" href="classirr_1_1core_1_1string.html#ab0074e616978fceeee4e16abcdb4b921" title="Appends a character to this string.">append</a> ( <span class="stringliteral">&quot;{\n&quot;</span> );
<a name="l00757"></a>00757             }
<a name="l00758"></a>00758             dest.<a class="code" href="classirr_1_1core_1_1string.html#ab0074e616978fceeee4e16abcdb4b921" title="Appends a character to this string.">append</a> ( <span class="stringliteral">&quot;}\n&quot;</span> );
<a name="l00759"></a>00759         }
<a name="l00760"></a>00760         <span class="keywordflow">return</span> dest;
<a name="l00761"></a>00761     }
<a name="l00762"></a>00762 
<a name="l00763"></a>00763 
<a name="l00764"></a>00764     <span class="comment">/*</span>
<a name="l00765"></a>00765 <span class="comment">        quake3 doesn&#39;t care much about tga &amp; jpg</span>
<a name="l00766"></a>00766 <span class="comment">        load one or multiple files stored in name started at startPos to the texture array textures</span>
<a name="l00767"></a>00767 <span class="comment">        if texture is not loaded 0 will be added ( to find missing textures easier)</span>
<a name="l00768"></a>00768 <span class="comment">    */</span>
<a name="l00769"></a><a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a8ac9dc32a1de82eda41cc3fd5297c152">00769</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a8ac9dc32a1de82eda41cc3fd5297c152">getTextures</a>(<a class="code" href="classirr_1_1core_1_1array.html" title="Self reallocating template array (like stl vector) with additional features.">tTexArray</a> &amp;textures,
<a name="l00770"></a>00770                 <span class="keyword">const</span> <a class="code" href="classirr_1_1core_1_1string.html">core::stringc</a> &amp;name, <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> &amp;startPos,
<a name="l00771"></a>00771                 <a class="code" href="classirr_1_1io_1_1_i_file_system.html" title="The FileSystem manages files and archives and provides access to them.">io::IFileSystem</a> *fileSystem,
<a name="l00772"></a>00772                 <a class="code" href="classirr_1_1video_1_1_i_video_driver.html" title="Interface to driver which is able to perform 2d and 3d graphics functions.">video::IVideoDriver</a>* driver)
<a name="l00773"></a>00773     {
<a name="l00774"></a>00774         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* extension[] =
<a name="l00775"></a>00775         {
<a name="l00776"></a>00776             <span class="stringliteral">&quot;.jpg&quot;</span>,
<a name="l00777"></a>00777             <span class="stringliteral">&quot;.jpeg&quot;</span>,
<a name="l00778"></a>00778             <span class="stringliteral">&quot;.png&quot;</span>,
<a name="l00779"></a>00779             <span class="stringliteral">&quot;.dds&quot;</span>,
<a name="l00780"></a>00780             <span class="stringliteral">&quot;.tga&quot;</span>,
<a name="l00781"></a>00781             <span class="stringliteral">&quot;.bmp&quot;</span>,
<a name="l00782"></a>00782             <span class="stringliteral">&quot;.pcx&quot;</span>
<a name="l00783"></a>00783         };
<a name="l00784"></a>00784 
<a name="l00785"></a>00785         <a class="code" href="classirr_1_1core_1_1array.html" title="Self reallocating template array (like stl vector) with additional features.">tStringList</a> stringList;
<a name="l00786"></a>00786         <a class="code" href="namespaceirr_1_1scene_1_1quake3.html#a9e8ef7fea6538ba79f0ab68264ef04f9">getAsStringList</a>(stringList, -1, name, startPos);
<a name="l00787"></a>00787 
<a name="l00788"></a>00788         textures.<a class="code" href="classirr_1_1core_1_1array.html#a236e08ca44ddf3c2b47b726f90db8d39" title="Clears the array and deletes all allocated memory.">clear</a>();
<a name="l00789"></a>00789 
<a name="l00790"></a>00790         <a class="code" href="classirr_1_1core_1_1string.html">io::path</a> loadFile;
<a name="l00791"></a>00791         <span class="keywordflow">for</span> ( <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> i = 0; i!= stringList.<a class="code" href="classirr_1_1core_1_1array.html#abc592bab637d54799b6c86d6d0e8adf8" title="Get number of occupied elements of the array.">size</a> (); ++i )
<a name="l00792"></a>00792         {
<a name="l00793"></a>00793             <a class="code" href="classirr_1_1video_1_1_i_texture.html" title="Interface of a Video Driver dependent Texture.">video::ITexture</a>* texture = 0;
<a name="l00794"></a>00794             <span class="keywordflow">for</span> (<a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> g = 0; g != 7 ; ++g)
<a name="l00795"></a>00795             {
<a name="l00796"></a>00796                 <a class="code" href="namespaceirr_1_1core.html#a188da2e914c6d4a6535bee08565d877b" title="cut the filename extension from a source file path and store it in a dest file path">core::cutFilenameExtension</a> ( loadFile, stringList[i] );
<a name="l00797"></a>00797 
<a name="l00798"></a>00798                 <span class="keywordflow">if</span> ( loadFile == <span class="stringliteral">&quot;$whiteimage&quot;</span> )
<a name="l00799"></a>00799                 {
<a name="l00800"></a>00800                     texture = driver-&gt;<a class="code" href="classirr_1_1video_1_1_i_video_driver.html#af4055165190e4adf221c6dc6f2434ea0" title="Get access to a named texture.">getTexture</a>( <span class="stringliteral">&quot;$whiteimage&quot;</span> );
<a name="l00801"></a>00801                     <span class="keywordflow">if</span> ( 0 == texture )
<a name="l00802"></a>00802                     {
<a name="l00803"></a>00803                         <a class="code" href="classirr_1_1core_1_1dimension2d.html">core::dimension2du</a> s ( 2, 2 );
<a name="l00804"></a>00804                         <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> image[4] = { 0xFFFFFFFF, 0xFFFFFFFF,0xFFFFFFFF,0xFFFFFFFF };
<a name="l00805"></a>00805                         <a class="code" href="classirr_1_1video_1_1_i_image.html" title="Interface for software image data.">video::IImage</a>* w = driver-&gt;<a class="code" href="classirr_1_1video_1_1_i_video_driver.html#a425d60f2fcad42d8a79c33c587f41a06" title="Creates a software image from a byte array.">createImageFromData</a> ( <a class="code" href="namespaceirr_1_1video.html#a1d5e487888c32b1674a8f75116d829eda55c57d63efff39efe33ee733fe962df0" title="Default 32 bit color format. 8 bits are used for every component: red, green, blue and alpha...">video::ECF_A8R8G8B8</a>, s,&amp;image );
<a name="l00806"></a>00806                         texture = driver-&gt;<a class="code" href="classirr_1_1video_1_1_i_video_driver.html#a8c02ee280bb738cdf38b77e7a798244e" title="Creates an empty texture of specified size.">addTexture</a>( <span class="stringliteral">&quot;$whiteimage&quot;</span>, w );
<a name="l00807"></a>00807                         w-&gt;<a class="code" href="classirr_1_1_i_reference_counted.html#afb169a857e0d2cdb96b8821cb9bff17a" title="Drops the object. Decrements the reference counter by one.">drop</a> ();
<a name="l00808"></a>00808                     }
<a name="l00809"></a>00809 
<a name="l00810"></a>00810                 }
<a name="l00811"></a>00811                 <span class="keywordflow">else</span>
<a name="l00812"></a>00812                 <span class="keywordflow">if</span> ( loadFile == <span class="stringliteral">&quot;$redimage&quot;</span> )
<a name="l00813"></a>00813                 {
<a name="l00814"></a>00814                     texture = driver-&gt;<a class="code" href="classirr_1_1video_1_1_i_video_driver.html#af4055165190e4adf221c6dc6f2434ea0" title="Get access to a named texture.">getTexture</a>( <span class="stringliteral">&quot;$redimage&quot;</span> );
<a name="l00815"></a>00815                     <span class="keywordflow">if</span> ( 0 == texture )
<a name="l00816"></a>00816                     {
<a name="l00817"></a>00817                         <a class="code" href="classirr_1_1core_1_1dimension2d.html">core::dimension2du</a> s ( 2, 2 );
<a name="l00818"></a>00818                         <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> image[4] = { 0xFFFF0000, 0xFFFF0000,0xFFFF0000,0xFFFF0000 };
<a name="l00819"></a>00819                         <a class="code" href="classirr_1_1video_1_1_i_image.html" title="Interface for software image data.">video::IImage</a>* w = driver-&gt;<a class="code" href="classirr_1_1video_1_1_i_video_driver.html#a425d60f2fcad42d8a79c33c587f41a06" title="Creates a software image from a byte array.">createImageFromData</a> ( <a class="code" href="namespaceirr_1_1video.html#a1d5e487888c32b1674a8f75116d829eda55c57d63efff39efe33ee733fe962df0" title="Default 32 bit color format. 8 bits are used for every component: red, green, blue and alpha...">video::ECF_A8R8G8B8</a>, s,&amp;image );
<a name="l00820"></a>00820                         texture = driver-&gt;<a class="code" href="classirr_1_1video_1_1_i_video_driver.html#a8c02ee280bb738cdf38b77e7a798244e" title="Creates an empty texture of specified size.">addTexture</a>( <span class="stringliteral">&quot;$redimage&quot;</span>, w );
<a name="l00821"></a>00821                         w-&gt;<a class="code" href="classirr_1_1_i_reference_counted.html#afb169a857e0d2cdb96b8821cb9bff17a" title="Drops the object. Decrements the reference counter by one.">drop</a> ();
<a name="l00822"></a>00822                     }
<a name="l00823"></a>00823                 }
<a name="l00824"></a>00824                 <span class="keywordflow">else</span>
<a name="l00825"></a>00825                 <span class="keywordflow">if</span> ( loadFile == <span class="stringliteral">&quot;$blueimage&quot;</span> )
<a name="l00826"></a>00826                 {
<a name="l00827"></a>00827                     texture = driver-&gt;<a class="code" href="classirr_1_1video_1_1_i_video_driver.html#af4055165190e4adf221c6dc6f2434ea0" title="Get access to a named texture.">getTexture</a>( <span class="stringliteral">&quot;$blueimage&quot;</span> );
<a name="l00828"></a>00828                     <span class="keywordflow">if</span> ( 0 == texture )
<a name="l00829"></a>00829                     {
<a name="l00830"></a>00830                         <a class="code" href="classirr_1_1core_1_1dimension2d.html">core::dimension2du</a> s ( 2, 2 );
<a name="l00831"></a>00831                         <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> image[4] = { 0xFF0000FF, 0xFF0000FF,0xFF0000FF,0xFF0000FF };
<a name="l00832"></a>00832                         <a class="code" href="classirr_1_1video_1_1_i_image.html" title="Interface for software image data.">video::IImage</a>* w = driver-&gt;<a class="code" href="classirr_1_1video_1_1_i_video_driver.html#a425d60f2fcad42d8a79c33c587f41a06" title="Creates a software image from a byte array.">createImageFromData</a> ( <a class="code" href="namespaceirr_1_1video.html#a1d5e487888c32b1674a8f75116d829eda55c57d63efff39efe33ee733fe962df0" title="Default 32 bit color format. 8 bits are used for every component: red, green, blue and alpha...">video::ECF_A8R8G8B8</a>, s,&amp;image );
<a name="l00833"></a>00833                         texture = driver-&gt;<a class="code" href="classirr_1_1video_1_1_i_video_driver.html#a8c02ee280bb738cdf38b77e7a798244e" title="Creates an empty texture of specified size.">addTexture</a>( <span class="stringliteral">&quot;$blueimage&quot;</span>, w );
<a name="l00834"></a>00834                         w-&gt;<a class="code" href="classirr_1_1_i_reference_counted.html#afb169a857e0d2cdb96b8821cb9bff17a" title="Drops the object. Decrements the reference counter by one.">drop</a> ();
<a name="l00835"></a>00835                     }
<a name="l00836"></a>00836                 }
<a name="l00837"></a>00837                 <span class="keywordflow">else</span>
<a name="l00838"></a>00838                 <span class="keywordflow">if</span> ( loadFile == <span class="stringliteral">&quot;$checkerimage&quot;</span> )
<a name="l00839"></a>00839                 {
<a name="l00840"></a>00840                     texture = driver-&gt;<a class="code" href="classirr_1_1video_1_1_i_video_driver.html#af4055165190e4adf221c6dc6f2434ea0" title="Get access to a named texture.">getTexture</a>( <span class="stringliteral">&quot;$checkerimage&quot;</span> );
<a name="l00841"></a>00841                     <span class="keywordflow">if</span> ( 0 == texture )
<a name="l00842"></a>00842                     {
<a name="l00843"></a>00843                         <a class="code" href="classirr_1_1core_1_1dimension2d.html">core::dimension2du</a> s ( 2, 2 );
<a name="l00844"></a>00844                         <a class="code" href="namespaceirr.html#a0416a53257075833e7002efd0a18e804" title="32 bit unsigned variable.">u32</a> image[4] = { 0xFFFFFFFF, 0xFF000000,0xFF000000,0xFFFFFFFF };
<a name="l00845"></a>00845                         <a class="code" href="classirr_1_1video_1_1_i_image.html" title="Interface for software image data.">video::IImage</a>* w = driver-&gt;<a class="code" href="classirr_1_1video_1_1_i_video_driver.html#a425d60f2fcad42d8a79c33c587f41a06" title="Creates a software image from a byte array.">createImageFromData</a> ( <a class="code" href="namespaceirr_1_1video.html#a1d5e487888c32b1674a8f75116d829eda55c57d63efff39efe33ee733fe962df0" title="Default 32 bit color format. 8 bits are used for every component: red, green, blue and alpha...">video::ECF_A8R8G8B8</a>, s,&amp;image );
<a name="l00846"></a>00846                         texture = driver-&gt;<a class="code" href="classirr_1_1video_1_1_i_video_driver.html#a8c02ee280bb738cdf38b77e7a798244e" title="Creates an empty texture of specified size.">addTexture</a>( <span class="stringliteral">&quot;$checkerimage&quot;</span>, w );
<a name="l00847"></a>00847                         w-&gt;<a class="code" href="classirr_1_1_i_reference_counted.html#afb169a857e0d2cdb96b8821cb9bff17a" title="Drops the object. Decrements the reference counter by one.">drop</a> ();
<a name="l00848"></a>00848                     }
<a name="l00849"></a>00849                 }
<a name="l00850"></a>00850                 <span class="keywordflow">else</span>
<a name="l00851"></a>00851                 <span class="keywordflow">if</span> ( loadFile == <span class="stringliteral">&quot;$lightmap&quot;</span> )
<a name="l00852"></a>00852                 {
<a name="l00853"></a>00853                     texture = 0;
<a name="l00854"></a>00854                 }
<a name="l00855"></a>00855                 <span class="keywordflow">else</span>
<a name="l00856"></a>00856                 {
<a name="l00857"></a>00857                     loadFile.<a class="code" href="classirr_1_1core_1_1string.html#ab0074e616978fceeee4e16abcdb4b921" title="Appends a character to this string.">append</a> ( extension[g] );
<a name="l00858"></a>00858                 }
<a name="l00859"></a>00859 
<a name="l00860"></a>00860                 <span class="keywordflow">if</span> ( fileSystem-&gt;<a class="code" href="classirr_1_1io_1_1_i_file_system.html#a1c5e98bc16e38b1d15b44e24b1b3bd32" title="Determines if a file exists and could be opened.">existFile</a> ( loadFile ) )
<a name="l00861"></a>00861                 {
<a name="l00862"></a>00862                     texture = driver-&gt;<a class="code" href="classirr_1_1video_1_1_i_video_driver.html#af4055165190e4adf221c6dc6f2434ea0" title="Get access to a named texture.">getTexture</a>( loadFile );
<a name="l00863"></a>00863                     <span class="keywordflow">if</span> ( texture )
<a name="l00864"></a>00864                         <span class="keywordflow">break</span>;
<a name="l00865"></a>00865                     texture = 0;
<a name="l00866"></a>00866                 }
<a name="l00867"></a>00867             }
<a name="l00868"></a>00868             <span class="comment">// take 0 Texture</span>
<a name="l00869"></a>00869             textures.<a class="code" href="classirr_1_1core_1_1array.html#ad2c9dff8592b95c25c59f5383fc633fe" title="Adds an element at back of array.">push_back</a>(texture);
<a name="l00870"></a>00870         }
<a name="l00871"></a>00871     }
<a name="l00872"></a>00872 
<a name="l00873"></a>00873 
<a name="l00875"></a><a class="code" href="classirr_1_1scene_1_1quake3_1_1_i_shader_manager.html">00875</a>     <span class="keyword">class </span><a class="code" href="classirr_1_1scene_1_1quake3_1_1_i_shader_manager.html" title="Manages various Quake3 Shader Styles.">IShaderManager</a> : <span class="keyword">public</span> <a class="code" href="classirr_1_1_i_reference_counted.html" title="Base class of most objects of the Irrlicht Engine.">IReferenceCounted</a>
<a name="l00876"></a>00876     {
<a name="l00877"></a>00877     };
<a name="l00878"></a>00878 
<a name="l00879"></a>00879 } <span class="comment">// end namespace quake3</span>
<a name="l00880"></a>00880 } <span class="comment">// end namespace scene</span>
<a name="l00881"></a>00881 } <span class="comment">// end namespace irr</span>
<a name="l00882"></a>00882 
<a name="l00883"></a>00883 <span class="preprocessor">#endif</span>
<a name="l00884"></a>00884 <span class="preprocessor"></span>
</pre></div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="_i_q3_shader_8h.html">IQ3Shader.h</a>      </li>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


    <li class="footer">
<a href="http://irrlicht.sourceforge.net" target="_blank">Irrlicht 
Engine</a> Documentation &copy; 2003-2012 by Nikolaus Gebhardt. Generated on Tue Nov 6 2012 11:06:00 for Irrlicht 3D Engine by
<a href="http://www.doxygen.org/index.html" target="_blank">Doxygen</a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
